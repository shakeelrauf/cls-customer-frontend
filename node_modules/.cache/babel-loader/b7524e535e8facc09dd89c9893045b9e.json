{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/sidebar/SystemNumber.tsx\";\nimport React from 'react';\nimport axiosInstance from '../../api/api';\nimport tick from \"../icons/tick.svg\";\nimport cross from \"../icons/cross.svg\";\nimport edit1 from \"../icons/edit.svg\";\nimport { Toast } from 'primereact/toast';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nclass SystemNumber extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toast = void 0;\n\n    this.fetchedData = async () => {\n      try {\n        this.setState({\n          loading: true\n        });\n        const api = `/api/customer/file-numbers/`;\n        let response = await axiosInstance.get(api, {\n          headers: {\n            \"Authorization\": `Bearer ${localStorage.getItem('access_token')}`\n          }\n        });\n        this.setState({\n          data: response.data.data,\n          last_name: response.data.last_name,\n          cus_no: response.data.cus_no\n        });\n\n        if (!(this.state.data.lenght === 0)) {\n          this.setState({\n            loading: false\n          });\n        } else {\n          this.setState({\n            loading: false\n          });\n          this.toast.current.show({\n            severity: 'error',\n            detail: 'No record found'\n          });\n        }\n\n        return this.state.data;\n      } catch (error) {\n        this.setState({\n          loading: false\n        });\n        throw error;\n      }\n    };\n\n    this.componentDidMount = async () => {\n      this.fetchedData();\n    };\n\n    this.onUpdate = (e, id) => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n      axiosInstance.patch(`/api/customer/file-numbers/${id}/`, {\n        location: this.state.location\n      }, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('access_token')}`\n        }\n      }).then(res => {\n        this.setState({\n          loading: false\n        });\n\n        if (res.data.status === 200) {\n          const updatedData = this.state.data.map((obj, i) => {\n            if (obj.id === id) {\n              obj.location = this.state.location;\n              obj.editData = false;\n            }\n\n            return { ...obj\n            };\n          });\n          this.setState({\n            data: updatedData\n          });\n          let node = this.toast.current;\n\n          if (node) {\n            node.show({\n              severity: 'success',\n              detail: 'Location updated successfully'\n            });\n          }\n        } else {\n          let node = this.toast.current;\n\n          if (node) {\n            node.show({\n              severity: 'error',\n              detail: 'Something went wrong'\n            });\n          }\n        }\n      });\n    };\n\n    this.onEdit = id => {\n      this.setState({\n        data: this.state.data.map((obj, i) => {\n          if (i === id) {\n            obj.editData = true;\n          } else {\n            obj.editData = false;\n          }\n\n          return { ...obj\n          };\n        })\n      });\n      this.setState({\n        file_number: this.state.data[id].file_number,\n        location: this.state.data[id].location\n      });\n    };\n\n    this.onCancel = id => {\n      this.setState({\n        data: this.state.data.map((obj, i) => {\n          if (i === id) {\n            obj.editData = false;\n          }\n\n          return { ...obj\n          };\n        })\n      });\n    };\n\n    this.toast = /*#__PURE__*/React.createRef();\n    this.state = {\n      data: [],\n      loading: false,\n      file_number: '',\n      location: '',\n      cus_no: '',\n      last_name: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Toast, {\n          ref: this.toast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay-box1\",\n          children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n            css: override,\n            color: \"rgb(0, 158, 214)\",\n            loading: this.state.loading,\n            height: 30,\n            width: 5,\n            radius: 2,\n            margin: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 35\n        }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upper\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              padding: \"1.25rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"#009DD0\",\n                fontSize: \"1.5rem\",\n                fontWeight: \"bold\"\n              },\n              children: this.state.last_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 54\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"#009DD0\",\n                fontSize: \"1.5rem\",\n                fontWeight: \"bold\"\n              },\n              children: this.state.cus_no\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"accordian\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      color: \"#fff\",\n                      textAlign: \"left\",\n                      marginTop: \"0.625rem\"\n                    },\n                    children: \"System Number Informations\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-striped\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontWeight: 500\n                  },\n                  scope: \"col\",\n                  children: \"System number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontWeight: 500\n                  },\n                  scope: \"col\",\n                  children: \"Location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontWeight: 500,\n                    textAlign: \"right\"\n                  },\n                  scope: \"col\",\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.data.map((item, i) => {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.file_number\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: '0.5rem'\n                    },\n                    children: item.editData ? /*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        height: '2rem',\n                        width: '15.625rem',\n                        position: 'absolute'\n                      },\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"location\",\n                      value: this.state.location,\n                      onChange: e => {\n                        this.setState({\n                          location: e.target.value\n                        });\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 65\n                    }, this) : item.location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"right\"\n                    },\n                    children: item.editData ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          cursor: \"pointer\",\n                          width: \"0.75rem\",\n                          height: \"0.75rem\",\n                          marginLeft: \"-1.875rem\",\n                          marginRight: \"1.25rem\"\n                        },\n                        onClick: () => this.onCancel(i),\n                        alt: \"cross\",\n                        src: cross\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 72\n                      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          cursor: \"pointer\",\n                          width: \"1rem\",\n                          height: \"1rem\"\n                        },\n                        onClick: e => this.onUpdate(e, item.id),\n                        alt: \"tick\",\n                        src: tick\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 239\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 66\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                        style: {\n                          cursor: \"pointer\",\n                          width: '1.3rem'\n                        },\n                        onClick: () => this.onEdit(i),\n                        alt: \"edit\",\n                        src: edit1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 378\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 371\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 17\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 15\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default SystemNumber;","map":{"version":3,"sources":["/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/sidebar/SystemNumber.tsx"],"names":["React","axiosInstance","Toast","FadeLoader","css","override","SystemNumber","Component","constructor","props","toast","fetchedData","setState","loading","api","response","get","headers","localStorage","getItem","data","last_name","cus_no","state","lenght","current","show","severity","detail","error","componentDidMount","onUpdate","e","id","preventDefault","patch","location","then","res","status","updatedData","map","obj","i","editData","node","onEdit","file_number","onCancel","createRef","render","padding","color","fontSize","fontWeight","textAlign","marginTop","item","height","width","position","target","value","cursor","marginLeft","marginRight","cross","tick","edit1"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axiosInstance from '../../api/api';\nimport tick from '../icons/tick.svg';\nimport cross from '../icons/cross.svg';\nimport edit1 from '../icons/edit.svg';\nimport { Toast } from 'primereact/toast';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\n\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\ninterface Props{\n   data:any;\n   loading :boolean;\n   file_number:any;\n   location:any;\n   cus_no:any;\n   last_name:any;\n}\nclass SystemNumber extends React.Component<{},Props> {\n  toast: React.RefObject<any>;\n    constructor(props:any){\n        super(props);\n        this.toast = React.createRef();\n        this.state={\n            data:[],\n            loading:false, \n            file_number:'',\n            location:'',\n            cus_no:'',\n            last_name:'',\n        }\n    }\n    \n\n   fetchedData = async() => {\n   try {\n     this.setState({loading : true});\n     const api = `/api/customer/file-numbers/`;\n     let response = await axiosInstance.get(api, { headers: {\"Authorization\" : `Bearer ${localStorage.getItem('access_token')}`} });\n     this.setState({data:response.data.data, last_name: response.data.last_name, cus_no: response.data.cus_no});\n\n     if(!(this.state.data.lenght === 0))\n       {\n           this.setState({loading : false});\n       }else {\n        this.setState({loading : false});\n        this.toast.current.show({severity: 'error',  detail: 'No record found'});\n\n      }\n     return this.state.data;\n }catch(error){\n   this.setState({loading : false});\n     throw error;\n }\n\n  }\n\n componentDidMount= async()=>{\n  this.fetchedData();\n }\n\n\n onUpdate = (e:any,id:any)=>{\n    e.preventDefault();\n    this.setState({loading:true});\n    axiosInstance\n      .patch(`/api/customer/file-numbers/${id}/`, {\n               location : this.state.location,\n            },{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem('access_token')}`} }\n            )\n      .then((res) => {\n          this.setState({loading:false});\n          if((res.data.status)===200){\n             const updatedData = this.state.data.map((obj:any,i:number)=>{\n                if((obj.id)===id){\n                    obj.location = this.state.location;\n                    obj.editData = false;\n                } \n                return ({...obj})\n               })\n        this.setState({data :updatedData});\n        let node = this.toast.current;\n          if(node){\n            node.show({severity: 'success',  detail: 'Location updated successfully'});\n        }\n      }else {\n        let node = this.toast.current;\n          if(node){\n            node.show({severity: 'error',  detail: 'Something went wrong'});\n        }\n      } \n      });\n  \n   }\n\n onEdit= (id:any)=>{\n    this.setState({data: this.state.data.map((obj:any,i:number)=>{\n     if(i===id){\n       obj.editData = true;\n     }else{\n       obj.editData = false;\n     }\n     return {...obj}\n     })});\n\n     this.setState({file_number: this.state.data[id].file_number,\n       location: this.state.data[id].location,\n     })\n };\n\n onCancel =(id:any)=>{\n    this.setState({data: this.state.data.map((obj:any,i:number)=>{\n      if(i===id){\n        obj.editData = false;\n      }\n      return {...obj}\n    })\n  })\n    \n  }\n\n    render(){\n        return(\n            <>\n            <div>\n            <Toast ref={this.toast} />\n            {this.state.loading ? <div className='overlay-box1'>\n                    <FadeLoader css={override} color={\"rgb(0, 158, 214)\"} loading={this.state.loading}  height={30} width={5} radius={2} margin={20} />\n                </div>:''}\n              <div className=\"upper\">\n                      <p style={{padding:\"1.25rem\"}}><span style={{color:\"#009DD0\",fontSize:\"1.5rem\",fontWeight:\"bold\"}}>{this.state.last_name}</span> \n                      <br></br><span style={{color:\"#009DD0\",fontSize:\"1.5rem\",fontWeight:\"bold\"}}>{this.state.cus_no}</span></p>\n              </div>\n              \n              <div className='content'>\n            <div className=\"accordian\"> \n                    <div className=\"col-12\">\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <p style={{color:\"#fff\",textAlign:\"left\",marginTop:\"0.625rem\"}}>System Number Informations</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n          <table className=\"table table-striped\">\n            <thead >\n              <tr>\n                <th style={{fontWeight:500}} scope=\"col\">System number</th>\n                <th style={{fontWeight:500}} scope=\"col\">Location</th>\n                <th style={{fontWeight:500,textAlign:\"right\"}} scope=\"col\">Action</th>\n              </tr>\n            </thead>\n            <tbody >\n            {this.state.data.map((item: any,i: any)=>{\n             return(\n              <tr key={i}>\n                <td>{item.file_number}</td>\n                <td style={{padding:'0.5rem'}}>{item.editData ? <input style={{height:'2rem',width:'15.625rem',position:'absolute'}} type=\"text\" className=\"form-control\" name=\"location\" value={this.state.location} onChange={(e)=>{this.setState({location : e.target.value})}}  /> : item.location}</td>\n                <td style={{textAlign:\"right\"}}>{item.editData ? <span><img style={{cursor:\"pointer\",width:\"0.75rem\",height:\"0.75rem\",marginLeft:\"-1.875rem\",marginRight:\"1.25rem\"}} onClick={()=>this.onCancel(i)} alt=\"cross\" src={cross} /><img style={{cursor:\"pointer\",width:\"1rem\",height:\"1rem\"}} onClick={(e)=>this.onUpdate(e,item.id)} alt=\"tick\" src={tick} /></span>: <span> <img style={{cursor:\"pointer\",width:'1.3rem'}} onClick={()=>this.onEdit(i)} alt=\"edit\" src={edit1} /></span>}</td>\n               \n              </tr>\n              )})}\n            </tbody>\n          </table>\n          </div> \n          </div>\n            </>\n        )\n    }\n}\n\nexport default SystemNumber;"]},"metadata":{},"sourceType":"module"}