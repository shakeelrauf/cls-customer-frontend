{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mac/Desktop/customer_portal_cls/frontend/src/component/sidebar/ViewKeys.tsx\";\nimport React from 'react';\nimport ViewKeysDetails from './ViewKeysDetails';\nimport image from \"../icons/pdf-1.svg\";\nimport csv from \"../icons/csv.svg\";\nimport schedule from \"../icons/schedule.svg\";\nimport warning from \"../icons/warning.svg\";\nimport brokenkey from \"../icons/BrokenKey.svg\";\nimport questionmark from \"../icons/questionmark.svg\";\nimport csv1 from \"../icons/csv1.svg\";\nimport shopping from \"../icons/shoppingcart.svg\";\nimport axiosInstance, { baseURL } from '../../api/api';\nimport 'jspdf-autotable';\nimport cancel from \"../icons/cancel.svg\";\nimport { Paginator } from 'primereact/paginator';\nimport Select from \"react-select\";\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport Modal from 'react-modal';\nimport KeyRequest from './KeyRequest';\nimport { Toast } from 'primereact/toast';\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nclass ViewKeys extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toast = void 0;\n    this.customStyles = {\n      content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-20%',\n        transform: 'translate(-50%, -50%)',\n        width: '50rem',\n        height: '37.5rem'\n      }\n    };\n\n    this.fetchedData = async (offset, limit, fn) => {\n      try {\n        this.setState({\n          loading: true\n        });\n        const api = `/api/kdfinder/keys/?file_number=${fn}&limit=${limit}&offset=${offset}`;\n        let response = await axiosInstance.get(api, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        this.setState({\n          data: response.data.results.data.map(obj => {\n            return { ...obj,\n              showDetails: false\n            };\n          })\n        });\n\n        if (!(this.state.data.length === 0)) {\n          this.setState({\n            loading: false\n          });\n        } else {\n          this.setState({\n            loading: false\n          });\n          this.toast.current.show({\n            severity: 'error',\n            detail: 'No record found'\n          });\n        }\n\n        this.setState({\n          currentuser: response.data.results.current_user\n        });\n        this.setState({\n          totalRecords: response.data.count\n        });\n        this.setState({\n          file: response.data.results.file_numbers.map(item => {\n            return {\n              label: item.file_number,\n              value: item.id\n            };\n          })\n        });\n\n        if (this.state.isSelected === '') {}\n\n        return this.state.data;\n      } catch (error) {\n        this.setState({\n          loading: false\n        });\n        throw error;\n      }\n    };\n\n    this.componentDidMount = () => {\n      this.fetchedData(null, null, 'all');\n    };\n\n    this.details = (item, id1) => {\n      //this.setState({loading:true});\n      const updatedData = this.state.data.map((obj, i) => {\n        if (i === id1) {\n          obj.showDetails = true;\n        } else {\n          obj.showDetails = false;\n        }\n\n        return { ...obj\n        };\n      });\n      this.setState({\n        data: updatedData\n      });\n      this.setState({\n        edit: true\n      });\n      this.setState({\n        view: item.sequence\n      });\n      this.setState({\n        door_compromised: item.door_compromised\n      });\n    };\n\n    this.colourStyles = {\n      option: provided => ({ ...provided,\n        backgroundColor: this.state.isSelected ? 'white' : 'white',\n        cursor: 'pointer',\n        color: this.state.isSelected ? 'black' : 'black',\n        \"&:hover\": {\n          backgroundColor: \"#ccc\"\n        }\n      }),\n      control: styles => ({ ...styles,\n        cursor: 'pointer'\n      })\n    };\n\n    this.handleChange = e => {\n      this.fetchedData(null, null, e.label);\n      this.setState({\n        isSelected: e.label\n      });\n    };\n\n    this.load = () => {\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.loadc = () => {\n      this.setState({\n        loading: true\n      });\n    };\n\n    this.renderEditForm = (show, id) => {\n      if (show) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              height: \"0px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 4,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"accordian\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          color: \"#fff\",\n                          textAlign: \"left\",\n                          marginTop: \"10px\"\n                        },\n                        children: \"Key Holder Informations\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 245,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-created\",\n                        onClick: () => this.cancel(id),\n                        children: \"Close\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(ViewKeysDetails, {\n                loadc: this.loadc,\n                load: this.load,\n                viewdata: this.state.view\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 11\n          }, this)\n        }, void 0, false);\n      }\n    };\n\n    this.renderEdit = () => {\n      if (this.state.edit) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-2\",\n              style: {\n                marginTop: \"1.25rem\",\n                marginRight: \"1.875rem\",\n                marginLeft: \"-2.5rem\",\n                width: '65%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"warning\",\n                src: warning\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 50\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [this.state.door_compromised, \" Door Compromised\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                marginTop: \"1.25rem\",\n                marginLeft: \"0.938rem\",\n                height: \"3.875rem\",\n                width: \"9.063rem\"\n              },\n              type: \"button\",\n              className: \"btn btn-outline-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  marginTop: \"0.438rem\",\n                  marginRight: \"0.5rem\",\n                  width: '32%'\n                },\n                alt: \"schedule\",\n                src: schedule\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 157\n              }, this), \"Schedule\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginTop: \"-1.125rem\",\n                  marginRight: \"-2.25rem\",\n                  display: \"block\"\n                },\n                children: \" Service\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 265\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `${baseURL}/api/kdfinder/csv/key-qty/${this.state.currentuser.id}/${this.state.isSelected}/`,\n              style: {\n                marginTop: \"1.25rem\",\n                marginLeft: \"0.938rem\",\n                height: \"3.875rem\",\n                width: \"10.25rem\"\n              },\n              className: \"btn btn-outline-success\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  marginTop: \"0.438rem\",\n                  marginRight: \"0.5rem\",\n                  marginLeft: \"-.25rem\",\n                  width: '20%'\n                },\n                alt: \"csv\",\n                src: csv\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), \"Export System \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginTop: \"-1.125rem\",\n                  marginRight: \"2.25rem\",\n                  display: \"block\"\n                },\n                children: \"CSV \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `${baseURL}/api/kdfinder/pdf/key-qty/${this.state.currentuser.id}/${this.state.isSelected}/`,\n              style: {\n                marginTop: \"1.25rem\",\n                marginLeft: \"0.938rem\",\n                marginRight: \"-3.125rem\",\n                height: \"3.875rem\",\n                width: \"11.813rem\"\n              },\n              type: \"button\",\n              className: \"btn btn-outline-danger\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  marginTop: \"0.438rem\",\n                  marginRight: \"1px\",\n                  marginLeft: \"-1px\",\n                  width: '17%'\n                },\n                alt: \"pdf\",\n                src: image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 277\n              }, this), \" Download System\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginTop: \"-1.125rem\",\n                  marginRight: \"3.875rem\",\n                  display: \"block\"\n                },\n                children: \" PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 400\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 8\n          }, this)\n        }, void 0, false);\n      } else {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  marginTop: \"1.25rem\",\n                  marginLeft: \"0.938rem\",\n                  height: \"3.875rem\",\n                  width: \"9.063rem\"\n                },\n                type: \"button\",\n                className: \"btn btn-outline-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    marginTop: \"0.438rem\",\n                    marginRight: \".5rem\",\n                    width: '32%'\n                  },\n                  alt: \"schedule\",\n                  src: schedule\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 156\n                }, this), \"Schedule\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginTop: \"-1.125rem\",\n                    marginRight: \"-2.25rem\",\n                    display: \"block\"\n                  },\n                  children: \" Service\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 263\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `${baseURL}/api/kdfinder/csv/key-qty/${this.state.currentuser.id}/${this.state.isSelected}/`,\n                style: {\n                  marginTop: \"1.25rem\",\n                  marginLeft: \"0.938rem\",\n                  height: \"3.875rem\",\n                  width: \"10.25rem\"\n                },\n                className: \"btn btn-outline-success\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    marginTop: \"0.438rem\",\n                    marginRight: \"0.5rem\",\n                    marginLeft: \"-.25rem\",\n                    width: '20%'\n                  },\n                  alt: \"csv\",\n                  src: csv\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), \"Export System \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginTop: \"-1.125rem\",\n                    marginRight: \"2.25rem\",\n                    display: \"block\"\n                  },\n                  children: \"CSV \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `${baseURL}/api/kdfinder/pdf/key-qty/${this.state.currentuser.id}/${this.state.isSelected}/`,\n                style: {\n                  marginTop: \"1.25rem\",\n                  marginLeft: \"0.938rem\",\n                  marginRight: \"-4.688rem\",\n                  height: \"3.875rem\",\n                  width: \"11.813rem\"\n                },\n                type: \"button\",\n                className: \"btn btn-outline-danger\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    marginTop: \"0.438rem\",\n                    marginRight: \"1px\",\n                    marginLeft: \"-1px\",\n                    width: '17%'\n                  },\n                  alt: \"pdf\",\n                  src: image\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 277\n                }, this), \" Download System\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginTop: \"-1.125rem\",\n                    marginRight: \"3.875rem\",\n                    display: \"block\"\n                  },\n                  children: \" PDF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 400\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-4\",\n              style: {\n                marginTop: \"0.625rem\",\n                marginLeft: \"27.5rem\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                values: this.state.isSelected,\n                onChange: this.handleChange,\n                className: \"dropdown\",\n                options: this.state.file,\n                placeholder: this.state.isSelected,\n                styles: this.colourStyles,\n                isSearchable: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 9\n          }, this)\n        }, void 0, false);\n      }\n    };\n\n    this.renderkeys = () => {\n      if (this.state.edit) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"block\",\n              float: \"right\",\n              marginLeft: \"-0.938rem\",\n              marginTop: \"-0.625rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"broken\",\n              style: {\n                width: '1rem'\n              },\n              src: brokenkey\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: \"0.75rem\",\n                color: \"#0D93C9\"\n              },\n              children: \"Broken key\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 73\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"questionmark\",\n              style: {\n                marginLeft: \"1rem\",\n                width: '0.6rem'\n              },\n              src: questionmark\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: \"0.75rem\",\n                marginRight: \"2.5rem\",\n                color: \"#FF6B6B\"\n              },\n              children: \"Key Lost\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 102\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 8\n          }, this)\n        }, void 0, false);\n      } else {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n      }\n    };\n\n    this.modal = () => {\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    this.addToast = mes => {\n      this.toast.current.show({\n        severity: 'success',\n        detail: mes\n      });\n    };\n\n    this.changeModal = () => {\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    this.renderModal = () => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'right'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"cancel\",\n            style: {\n              width: '1.875rem',\n              cursor: 'pointer'\n            },\n            onClick: this.closeModal,\n            src: cancel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(KeyRequest, {\n          modal: this.modal,\n          addtoast: this.addToast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true);\n    };\n\n    this.request = () => {\n      this.setState({\n        modalIsOpen: true\n      });\n    };\n\n    this.onPageChange = event => {\n      this.setState({\n        offset: event.first,\n        limit: event.rows\n      });\n      this.fetchedData(event.first, event.rows, this.state.isSelected);\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    this.toast = /*#__PURE__*/React.createRef();\n    this.state = {\n      showDetails: false,\n      edit: false,\n      data: [],\n      view: [],\n      csvTable: [],\n      currentuser: [],\n      isSelected: '',\n      file: [],\n      loading: false,\n      modalIsOpen: false,\n      door_compromised: '',\n      limit: 10,\n      offset: null,\n      totalRecords: null\n    };\n  }\n\n  cancel(id) {\n    const updatedData = this.state.data.map((obj, i) => {\n      if (i === id) {\n        obj.showDetails = false;\n      }\n\n      return { ...obj\n      };\n    });\n    this.setState({\n      data: updatedData,\n      edit: false\n    });\n    this.fetchedData(null, null, 'all');\n  }\n\n  render() {\n    const lastLoginDate = this.state.currentuser.last_login ? new Date(this.state.currentuser.last_login).toLocaleDateString() : '';\n    const lastUpdatedDate = this.state.currentuser.last_modified ? new Date(this.state.currentuser.last_modified).toLocaleDateString() : \"\";\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay-box1\",\n          children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n            css: override,\n            color: \"rgb(0, 158, 214)\",\n            loading: this.state.loading,\n            height: 30,\n            width: 5,\n            radius: 2,\n            margin: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 35\n        }, this) : '', /*#__PURE__*/_jsxDEV(Toast, {\n          ref: this.toast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          style: this.customStyles,\n          isOpen: this.state.modalIsOpen,\n          onRequestClose: this.closeModal,\n          children: this.renderModal()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upper1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: \"0.6rem\",\n                marginLeft: \"1.25rem\"\n              },\n              className: \"col-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"#009DD0\",\n                    fontSize: \"1.5rem\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontWeight: \"bold\",\n                      marginRight: \".6rem\"\n                    },\n                    children: \"Welcome\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 76\n                  }, this), this.state.currentuser.first_name, \" \", this.state.currentuser.last_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\" Your last log in was on :  \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: lastLoginDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 54\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Last Updated:  \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: lastUpdatedDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-8\",\n              style: {\n                marginLeft: \"22.5rem\",\n                marginTop: \"-9.375rem\"\n              },\n              children: [this.renderEdit(), this.renderkeys()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            style: {\n              backgroundColor: \"#fff\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              style: {\n                color: \"#fff\",\n                backgroundColor: \"#12739A\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  \"data-visible\": \"true\",\n                  children: \"Key ID Stamp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Key Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"QTY Cut\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: \"right\"\n                  },\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.state.data.map((item, i) => {\n                return /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        onClick: () => this.details(item, i),\n                        style: {\n                          cursor: \"pointer\",\n                          color: \"#009ED6\",\n                          textDecoration: \"underline\"\n                        },\n                        children: item.key_id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.key_description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        textAlign: \"right\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        alt: \"keyrequest\",\n                        style: {\n                          marginLeft: \"0.938rem\",\n                          cursor: \"pointer\",\n                          width: '1.5rem'\n                        },\n                        onClick: this.request,\n                        src: shopping\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 414,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: `${baseURL}/api/kdfinder/csv/key-sequence/${this.state.currentuser.id}/${this.state.isSelected}/${item.id}/`,\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          alt: \"csv1\",\n                          style: {\n                            marginLeft: \"0.938rem\",\n                            cursor: \"pointer\",\n                            width: '1.3rem'\n                          },\n                          src: csv1\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 415,\n                          columnNumber: 140\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 415,\n                        columnNumber: 20\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: `${baseURL}/api/kdfinder/pdf/key-sequence/${this.state.currentuser.id}/${this.state.isSelected}/${item.id}/`,\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          alt: \"pdf1\",\n                          style: {\n                            marginLeft: \"0.938rem\",\n                            cursor: \"pointer\",\n                            width: '1.3rem'\n                          },\n                          src: image\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 416,\n                          columnNumber: 140\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 416,\n                        columnNumber: 20\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 17\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 15\n                  }, this), this.renderEditForm(item.showDetails, i)]\n                }, void 0, true);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 6,\n                children: /*#__PURE__*/_jsxDEV(Paginator, {\n                  first: this.state.offset,\n                  rows: this.state.limit,\n                  totalRecords: this.state.totalRecords,\n                  rowsPerPageOptions: [10, 20, 30],\n                  template: \"RowsPerPageDropdown CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink \",\n                  onPageChange: this.onPageChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default ViewKeys;","map":{"version":3,"sources":["/Users/mac/Desktop/customer_portal_cls/frontend/src/component/sidebar/ViewKeys.tsx"],"names":["React","ViewKeysDetails","axiosInstance","baseURL","Paginator","Select","FadeLoader","css","Modal","KeyRequest","Toast","override","ViewKeys","Component","constructor","props","toast","customStyles","content","top","left","right","bottom","marginRight","transform","width","height","fetchedData","offset","limit","fn","setState","loading","api","response","get","headers","data","results","map","obj","showDetails","state","length","current","show","severity","detail","currentuser","current_user","totalRecords","count","file","file_numbers","item","label","file_number","value","id","isSelected","error","componentDidMount","details","id1","updatedData","i","edit","view","sequence","door_compromised","colourStyles","option","provided","backgroundColor","cursor","color","control","styles","handleChange","e","load","loadc","renderEditForm","textAlign","marginTop","cancel","renderEdit","marginLeft","warning","schedule","display","csv","image","renderkeys","float","brokenkey","questionmark","modal","modalIsOpen","addToast","mes","changeModal","renderModal","closeModal","request","onPageChange","event","first","rows","createRef","csvTable","render","lastLoginDate","last_login","Date","toLocaleDateString","lastUpdatedDate","last_modified","fontSize","fontWeight","first_name","last_name","textDecoration","key_id","key_description","quantity","shopping","csv1"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ViewKeysDetails from './ViewKeysDetails';\nimport image from '../icons/pdf-1.svg';\nimport csv from '../icons/csv.svg';\nimport schedule from '../icons/schedule.svg';\nimport warning from '../icons/warning.svg';\nimport brokenkey from '../icons/BrokenKey.svg';\nimport questionmark from '../icons/questionmark.svg';\nimport csv1 from '../icons/csv1.svg';\nimport shopping from '../icons/shoppingcart.svg';\nimport axiosInstance , {baseURL} from '../../api/api';\nimport  jsPDF from \"jspdf\";\nimport 'jspdf-autotable';\nimport cancel from '../icons/cancel.svg';\nimport { autoTable } from 'jspdf-autotable';\nimport { CSVLink } from \"react-csv\";\nimport { Paginator } from 'primereact/paginator';\nimport Select from \"react-select\";\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport Modal from 'react-modal';\nimport KeyRequest from './KeyRequest';\nimport { Toast } from 'primereact/toast';\n\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\ninterface Props{\n  edit:boolean;\n  data:any;\n  view:any;\n  currentuser:any;\n  showDetails: any;\n  isSelected:any;\n  file:any;\n  limit:any;\n  offset:any;\n  totalRecords:any;\n  loading : boolean;\n  modalIsOpen : boolean;\n  door_compromised:any;\n  csvTable:any;\n}\n\nclass ViewKeys extends React.Component<{},Props> {\n  toast: React.RefObject<any>;\n\n  constructor(props:Props){\n    super(props);\n    this.toast = React.createRef();\n\n    this.state={\n      showDetails: false,\n      edit:false,\n      data:[],\n      view:[],\n      csvTable:[],\n      currentuser:[],\n      isSelected: '',\n      file:[] as any,\n      loading : false,\n      modalIsOpen:false,\n      door_compromised:'',\n\n      limit:10,\n      offset: null,\n      totalRecords:null\n    }}\n    \n    customStyles = {\n      content : {\n        top                   : '50%',\n        left                  : '50%',\n        right                 : 'auto',\n        bottom                : 'auto',\n        marginRight           : '-20%',\n        transform             : 'translate(-50%, -50%)',\n        width                 : '50rem',\n        height                : '37.5rem'\n      }\n    };\n\n    /* exportPDF = async() => {\n\n      try {\n        this.setState({loading : true});\n        const api = `kdfinder/keys/all/?file_number=${this.state.isSelected}`;\n        let response = await axiosInstance.get(api , { headers: {'Content-Type': 'application/json'} } );\n      const unit = \"pt\";\n      const size = \"A4\"; // Use A1, A2, A3 or A4\n      const orientation = \"portrait\"; // portrait or landscape\n      const marginLeft = 40;\n      const doc = new jsPDF(orientation, unit, size);\n      doc.setFontSize(15);\n  \n      const title = \"View Keys\";\n      const headers = [[\"Key ID Stamp\", \"Key Description\",\"QTY Cut\"]];\n      const data = response.data.data.map((item:any)=> [item.key_id, item.key_description,item.quantity]);\n  \n      let content = {\n        startY: 50,\n        head: headers,\n        body: data\n      };\n      doc.text(title, marginLeft, 40);\n      (doc as jsPDF & { autoTable: autoTable }).autoTable (content);\n      doc.save(\"report.pdf\");\n      this.setState({loading : false});\n    }catch(error){\n      this.setState({loading : false});\n        throw error;\n    }\n    }; */\n\n\n    /* exportPDFsequence = (sequence:any) => {\n      const unit = \"pt\";\n      const size = \"A4\"; // Use A1, A2, A3 or A4\n      const orientation = \"portrait\"; // portrait or landscape\n      const marginLeft = 40;\n      const doc = new jsPDF(orientation, unit, size);\n      doc.setFontSize(15);\n  \n      const title = \"View Keys\";\n      const headers = [[\"Key ID Stamp\", \"Tenant\",\"First/Last Name\",\"Phone\",\"Email ID\",\"Issue Date\"]];\n      const data = sequence.map((item:any)=> [item.key_id, item.tenant_location, item.key_holder, item.phone, item.email, item.date_issued]);\n  \n      let content = {\n        startY: 50,\n        head: headers,\n        body: data\n      };\n      doc.text(title, marginLeft, 40);\n      (doc as jsPDF & { autoTable: autoTable }).autoTable (content);\n      doc.save(\"sequence.pdf\");\n    }; */\n   \n    fetchedData= async(offset:any,limit:any,fn:any) => {\n      try {\n        this.setState({loading : true});\n        const api = `/api/kdfinder/keys/?file_number=${fn}&limit=${limit}&offset=${offset}`;\n        let response = await axiosInstance.get(api , { headers: {'Content-Type': 'application/json'} } );\n        this.setState({data:response.data.results.data.map((obj:any)=>{\n          return({...obj, showDetails: false\n          })\n        })});\n        if(!(this.state.data.length === 0))\n                {\n                    this.setState({loading : false});\n                }else {\n                  this.setState({loading : false});\n                  this.toast.current.show({severity: 'error',  detail: 'No record found'});\n                }\n        this.setState({currentuser:response.data.results.current_user});\n        this.setState({totalRecords:response.data.count});\n        this.setState({file:response.data.results.file_numbers.map((item: any)=>{ \n          return (\n          { label: item.file_number, value: item.id})\n        })});\n        if(this.state.isSelected===''){\n        }\n        return this.state.data;\n    }catch(error){\n      this.setState({loading : false});\n        throw error;\n    }\n    }\n\n    \n\n  componentDidMount = () =>{\n       this.fetchedData(null,null,'all');\n    }\n\n  details=(item:any,id1:any)=> {\n    //this.setState({loading:true});\n    const updatedData = this.state.data.map((obj:any,i:number)=>{\n      if(i===id1){\n        obj.showDetails = true;\n      }else{\n        obj.showDetails = false;\n      }\n      return {...obj}\n      });\n   this.setState({data:updatedData});\n   this.setState({edit:true});\n   this.setState({view:item.sequence});\n   this.setState({door_compromised: item.door_compromised});\n  }\n\n  colourStyles ={\n    option: (provided:any) => ({\n      ...provided,\n      backgroundColor: this.state.isSelected ? 'white' : 'white',\n      cursor: 'pointer',\n      color: this.state.isSelected ? 'black' : 'black',\n      \"&:hover\": {\n        backgroundColor: \"#ccc\"\n      }\n    }),\n    control: (styles:any) => ({\n      ...styles,\n      cursor: 'pointer',\n      \n    }),\n  }\n   \n  handleChange = (e:any) => {\n    this.fetchedData(null,null,e.label);\n    this.setState({isSelected:e.label});\n  }\n\n  cancel(id:any) {\n    const updatedData = this.state.data.map((obj:any,i:number)=>{\n        if(i===id){\n          obj.showDetails = false;\n        }\n        return {...obj}\n    })\n    this.setState({data: updatedData,edit:false});\n    this.fetchedData(null,null,'all');\n   }\n\n   load = ()=>{\n    this.setState({loading:false});\n   }\n   \n   loadc = ()=>{\n    this.setState({loading:true});\n   }\n  renderEditForm=(show:any,id:any)=>{\n    if(show){\n      return(\n        <>\n          <tr style={{height:\"0px\"}}>\n              <td colSpan={4}>\n              <div className=\"accordian\"> \n                    <div className=\"col-12\">\n                        <div className=\"row\">\n                            <div className=\"col-6\">\n                                <p style={{color:\"#fff\",textAlign:\"left\",marginTop:\"10px\"}}>Key Holder Informations</p>\n                            </div>\n                            <div className=\"col-6\">\n                                    <span className=\"detail-created\" onClick={()=>this.cancel(id)} >Close</span>\n                                </div>\n                        </div>\n                    </div>\n                </div>\n                <ViewKeysDetails loadc={this.loadc} load={this.load} viewdata={this.state.view}/>\n              </td>\n          </tr>\n       </>\n      )\n    }\n  }   \n\n  renderEdit=()=>{\n    if(this.state.edit){\n      return(\n        <>\n       <div className=\"row\">\n            <div className=\"col-2\" style={{marginTop:\"1.25rem\",marginRight:\"1.875rem\",marginLeft:\"-2.5rem\",width:'65%'}}>\n               <img alt=\"warning\" src={warning}/><br></br><span>{this.state.door_compromised} Door Compromised</span>\n            </div>\n            <button style={{marginTop:\"1.25rem\",marginLeft:\"0.938rem\", height:\"3.875rem\",width:\"9.063rem\"}}  type=\"button\" className=\"btn btn-outline-info\"><img style={{marginTop:\"0.438rem\",marginRight:\"0.5rem\",width:'32%'}} alt=\"schedule\" src={schedule}/>Schedule<span style={{marginTop:\"-1.125rem\",marginRight:\"-2.25rem\",display:\"block\"}}> Service</span></button>\n            <a href={`${baseURL}/api/kdfinder/csv/key-qty/${this.state.currentuser.id}/${this.state.isSelected}/`} style={{marginTop:\"1.25rem\",marginLeft:\"0.938rem\",height:\"3.875rem\",width:\"10.25rem\"}} \n                  className=\"btn btn-outline-success\">\n                  <img style={{marginTop:\"0.438rem\",marginRight:\"0.5rem\",marginLeft:\"-.25rem\",width:'20%'}} alt=\"csv\" src={csv}/>\n                  Export System <span style={{marginTop:\"-1.125rem\",marginRight:\"2.25rem\",display:\"block\"}}>CSV </span>\n            </a>\n            <a href={`${baseURL}/api/kdfinder/pdf/key-qty/${this.state.currentuser.id}/${this.state.isSelected}/`} style={{marginTop:\"1.25rem\",marginLeft:\"0.938rem\",marginRight:\"-3.125rem\",height:\"3.875rem\",width:\"11.813rem\"}} type=\"button\" className=\"btn btn-outline-danger\"><img style={{marginTop:\"0.438rem\",marginRight:\"1px\",marginLeft:\"-1px\",width:'17%'}} alt=\"pdf\" src={image}/> Download System<span style={{marginTop:\"-1.125rem\",marginRight:\"3.875rem\",display:\"block\"}}> PDF</span></a>                   \n        </div>\n       </>\n      )\n    }else{\n      return(\n        <>\n        <div className=\"row\">\n          <div>\n            <button style={{marginTop:\"1.25rem\",marginLeft:\"0.938rem\", height:\"3.875rem\",width:\"9.063rem\"}} type=\"button\" className=\"btn btn-outline-info\"><img style={{marginTop:\"0.438rem\",marginRight:\".5rem\",width:'32%'}} alt=\"schedule\" src={schedule}/>Schedule<span style={{marginTop:\"-1.125rem\",marginRight:\"-2.25rem\",display:\"block\"}}> Service</span></button>\n            <a href={`${baseURL}/api/kdfinder/csv/key-qty/${this.state.currentuser.id}/${this.state.isSelected}/`} style={{marginTop:\"1.25rem\",marginLeft:\"0.938rem\",height:\"3.875rem\",width:\"10.25rem\"}} \n                   className=\"btn btn-outline-success\">\n                  <img style={{marginTop:\"0.438rem\",marginRight:\"0.5rem\",marginLeft:\"-.25rem\",width:'20%'}} alt=\"csv\" src={csv}/>\n                  Export System <span style={{marginTop:\"-1.125rem\",marginRight:\"2.25rem\",display:\"block\"}}>CSV </span>\n            </a>\n            <a href={`${baseURL}/api/kdfinder/pdf/key-qty/${this.state.currentuser.id}/${this.state.isSelected}/`} style={{marginTop:\"1.25rem\",marginLeft:\"0.938rem\",marginRight:\"-4.688rem\",height:\"3.875rem\",width:\"11.813rem\"}} type=\"button\" className=\"btn btn-outline-danger\"><img style={{marginTop:\"0.438rem\",marginRight:\"1px\",marginLeft:\"-1px\",width:'17%'}} alt=\"pdf\" src={image}/> Download System<span style={{marginTop:\"-1.125rem\",marginRight:\"3.875rem\",display:\"block\"}}> PDF</span></a>  \n             \n          </div>\n          <div className=\"col-4\" style={{marginTop:\"0.625rem\",marginLeft:\"27.5rem\"}}>\n                <Select\n                    values={this.state.isSelected}\n                    onChange={this.handleChange }\n                    className=\"dropdown\"\n                    options={this.state.file}\n                    placeholder={this.state.isSelected}\n                    styles={this.colourStyles}\n                    isSearchable\n                />\n          </div>\n        </div>\n        </>\n      )\n    }\n  }   \n\n  \n\n  renderkeys=()=>{\n    if(this.state.edit){\n      return(\n        <>\n       <div style={{display:\"block\",float:\"right\",marginLeft:\"-0.938rem\",marginTop:\"-0.625rem\"}}>\n              <img alt=\"broken\" style={{width:'1rem'}} src={brokenkey}/><span style={{marginLeft:\"0.75rem\",color:\"#0D93C9\"}}>Broken key</span>\n              <img alt=\"questionmark\" style={{marginLeft:\"1rem\",width:'0.6rem'}} src={questionmark}/><span style={{marginLeft:\"0.75rem\",marginRight:\"2.5rem\",color:\"#FF6B6B\"}}>Key Lost</span>\n        </div>\n       </>\n      )\n    }else{\n      return(\n        <>\n        </>\n      )\n    }\n  }   \n\n  modal = () =>{\n    this.setState({modalIsOpen:false});\n  }\n\n  addToast=(mes:any)=>{\n    this.toast.current.show({severity: 'success', detail: mes});\n  }\n  changeModal = () =>{\n    this.setState({modalIsOpen:false});\n  }\n\n  renderModal = () =>{\n    return( \n      <>\n      <div style={{textAlign:'right'}}>\n                  <img alt=\"cancel\" style={{width:'1.875rem',cursor:'pointer'}} onClick={this.closeModal} src={cancel}/>\n                </div>\n    <KeyRequest modal={this.modal}  addtoast={this.addToast} />\n    </>\n    )\n  }\n\n  request = () => {\n    this.setState({modalIsOpen:true});\n  }\n\n  onPageChange = (event:any) => {\n    this.setState({offset:event.first,limit:event.rows});\n    this.fetchedData(event.first,event.rows,this.state.isSelected);\n}\n\ncloseModal = () =>{\n  this.setState({modalIsOpen:false});\n}\n  \n  \n  render(){\n    \n  const lastLoginDate  = this.state.currentuser.last_login? new Date(this.state.currentuser.last_login).toLocaleDateString(): '';\n  const lastUpdatedDate = this.state.currentuser.last_modified? new Date(this.state.currentuser.last_modified).toLocaleDateString(): \"\";\n\n      return (\n        <>\n          <div>\n          {\n            this.state.loading  ? <div className='overlay-box1'>\n            <FadeLoader css={override} color={\"rgb(0, 158, 214)\"} loading={this.state.loading}  height={30} width={5} radius={2} margin={20} />\n        </div> :''\n          }\n          <Toast ref={this.toast} />\n                <Modal style={this.customStyles} isOpen={this.state.modalIsOpen} onRequestClose={this.closeModal}>{this.renderModal()}</Modal>\n            <div className=\"upper1\" >\n              <div className=\"row\">\n                  <div style={{marginTop:\"0.6rem\",marginLeft:\"1.25rem\"}} className=\"col-4\">\n                      <p><span style={{color:\"#009DD0\",fontSize:\"1.5rem\"}}><span style={{fontWeight:\"bold\", marginRight:\".6rem\"}}>Welcome</span>{this.state.currentuser.first_name} {this.state.currentuser.last_name}</span></p>\n                      <p> Your last log in was on :  <strong>{lastLoginDate}</strong></p>\n                      <p>Last Updated:  <strong>{lastUpdatedDate}</strong></p>\n                  </div>   \n                  <div className=\"col-8\" style={{marginLeft:\"22.5rem\",marginTop:\"-9.375rem\"}}>\n                    {this.renderEdit()}\n                    {this.renderkeys()}\n                    \n                  </div> \n              </div>\n            </div>\n            <div className=\"content\" >\n          <table className=\"table\" style={{backgroundColor:\"#fff\"}}>\n            <thead style={{ color: \"#fff\",backgroundColor:\"#12739A\" }}>\n              <tr>\n                <th data-visible=\"true\" >Key ID Stamp</th>\n                <th>Key Description</th>\n                <th>QTY Cut</th>\n                <th style={{textAlign:\"right\"}}>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n            {this.state.data.map((item: any,i: any)=>{\n             return(\n               <>\n              <tr key={i}>\n                <td><span onClick={()=>this.details(item,i)} style={{cursor:\"pointer\",color:\"#009ED6\",textDecoration:\"underline\"}}>{item.key_id}</span></td>\n                <td>{item.key_description}</td>\n                <td>{item.quantity}</td>\n                <td style={{textAlign:\"right\"}}>\n                  <img alt=\"keyrequest\" style={{marginLeft:\"0.938rem\",cursor:\"pointer\",width:'1.5rem'}} onClick={this.request} src={shopping}/>\n                  {<a href={`${baseURL}/api/kdfinder/csv/key-sequence/${this.state.currentuser.id}/${this.state.isSelected}/${item.id}/`} ><img alt=\"csv1\" style={{marginLeft:\"0.938rem\",cursor:\"pointer\",width:'1.3rem'}} src={csv1}/></a>}\n                  {<a href={`${baseURL}/api/kdfinder/pdf/key-sequence/${this.state.currentuser.id}/${this.state.isSelected}/${item.id}/`} ><img alt=\"pdf1\" style={{marginLeft:\"0.938rem\",cursor:\"pointer\",width:'1.3rem'}} src={image}/></a>}\n\n                </td>\n              </tr>\n             \n                   {this.renderEditForm(item.showDetails,i)}\n                \n              </>\n              )})}\n            </tbody>\n            <tr>\n                 <td colSpan={6}>\n                  <Paginator first={this.state.offset} rows={this.state.limit} totalRecords={this.state.totalRecords} rowsPerPageOptions={[10, 20, 30]} \n                  template=\"RowsPerPageDropdown CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink \"\n                  onPageChange={this.onPageChange}></Paginator>\n                  </td>\n                  </tr>\n            </table>\n            </div>\n          </div>\n        </>\n      );\n    }\n  }\n\n\nexport default ViewKeys;  "]},"metadata":{},"sourceType":"module"}