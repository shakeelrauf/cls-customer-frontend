{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mac/Desktop/customer_portal_cls/frontend/src/component/sidebar/ViewKeysGroup.tsx\";\nimport React from 'react';\nimport ViewKeysGroupDetails from './ViewKeysGroupDetails';\nimport removeIcon from '../icons/remove.png';\nimport axiosInstance from '../../api/api';\nimport 'jspdf-autotable';\nimport cancel from \"../icons/cancel.svg\";\nimport { Paginator } from 'primereact/paginator';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport Modal from 'react-modal';\nimport { Toast } from 'primereact/toast';\nimport Select from \"react-select\";\nimport { Formik } from 'formik';\nimport { Calendar } from 'primereact/calendar';\nimport edit1 from \"../icons/edit.svg\";\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-20%',\n    transform: 'translate(-50%, -50%)',\n    height: '30rem',\n    overflow: 'inherit !important'\n  }\n};\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nclass ViewKeysGroup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toast = void 0;\n    this.customStyles = {\n      content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-20%',\n        transform: 'translate(-50%, -50%)',\n        height: '30rem',\n        overflow: 'inherit !important'\n      }\n    };\n\n    this.fetchedData = async (offset, limit) => {\n      this.setState({\n        loading: true\n      });\n      const api = `/api/kdfinder/keysgroups`;\n      let response = await axiosInstance.get(api, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      this.setState({\n        data: response.data.results.data.map(obj => {\n          return { ...obj,\n            showDetails: false\n          };\n        })\n      });\n      this.setState({\n        keys: response.data.results.keys.map(obj => {\n          return {\n            label: obj.key_id + \" - \" + obj.sequence,\n            value: obj.id\n          };\n        })\n      });\n      this.setState({\n        freeKeys: this.state.keys\n      });\n\n      if (!(this.state.data.length === 0)) {\n        this.setState({\n          loading: false\n        });\n      } else {\n        this.setState({\n          loading: false\n        });\n        this.toast.current.show({\n          severity: 'error',\n          detail: 'No record found'\n        });\n      }\n\n      this.setState({\n        currentuser: response.data.results.current_user\n      });\n      this.setState({\n        totalRecords: response.data.count\n      });\n      return this.state.data;\n    };\n\n    this.renderEditForm = (show, id) => {\n      if (show) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              height: \"0px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 4,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"accordian\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          color: \"#fff\",\n                          textAlign: \"left\",\n                          marginTop: \"10px\"\n                        },\n                        children: \"Key Holder Informations\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(ViewKeysGroupDetails, {\n                loadc: this.loadc,\n                load: this.load,\n                viewdata: this.state.view\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }, this)\n        }, void 0, false);\n      }\n    };\n\n    this.componentDidMount = () => {\n      this.fetchedData(null, null);\n    };\n\n    this.details = (item, id1) => {\n      //this.setState({loading:true});\n      const updatedData = this.state.data.map((obj, i) => {\n        if (i === id1) {\n          obj.showDetails = true;\n        } else {\n          obj.showDetails = false;\n        }\n\n        return { ...obj\n        };\n      });\n      this.setState({\n        data: updatedData\n      });\n      this.setState({\n        edit: true\n      });\n      this.setState({\n        view: item.sequence,\n        currentItem: item\n      });\n    };\n\n    this.colourStyles = {\n      option: provided => ({ ...provided,\n        backgroundColor: this.state.isSelected ? 'white' : 'white',\n        cursor: 'pointer',\n        color: this.state.isSelected ? 'black' : 'black',\n        \"&:hover\": {\n          backgroundColor: \"#ccc\"\n        }\n      }),\n      control: styles => ({ ...styles,\n        cursor: 'pointer'\n      })\n    };\n\n    this.load = () => {\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.loadc = () => {\n      this.setState({\n        loading: true\n      });\n    };\n\n    this.modal = () => {\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    this.addToast = mes => {\n      this.toast.current.show({\n        severity: 'success',\n        detail: mes\n      });\n    };\n\n    this.changeModal = () => {\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    this.submit = async (values, id = null) => {\n      var api = `/api/kdfinder/keysgroups/`;\n\n      if (id) {\n        api = api + \"group/\" + id;\n      }\n\n      let response = await axiosInstance.post(api, values, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.data.success) {\n        this.changeModal();\n        this.addToast(\"Successfuly added group\");\n        this.fetchedData(null, null);\n      }\n    };\n\n    this.renderModal = (id, initialValues) => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'right'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"cancel\",\n              style: {\n                width: '1.875rem',\n                cursor: 'pointer'\n              },\n              onClick: this.closeModal,\n              src: cancel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: initialValues,\n            validate: values => {\n              var errors = {};\n\n              if (!values.name) {\n                errors['name'] = 'Required';\n              }\n\n              if (!values.user) {\n                errors['user'] = 'Required';\n              }\n\n              if (!values.keys) {\n                errors['keys'] = 'Required';\n              }\n\n              if (!values.issueDate) {\n                errors['issueDate'] = 'Required';\n              }\n\n              return errors;\n            },\n            onSubmit: (values, {\n              setSubmitting\n            }) => {\n              this.submit(values, id);\n              console.log(values);\n              setSubmitting(false);\n            },\n            children: ({\n              values,\n              errors,\n              touched,\n              handleChange,\n              handleBlur,\n              handleSubmit,\n              isSubmitting,\n              setFieldValue\n              /* and other goodies */\n\n            }) => /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group col-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Group Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"name\",\n                    className: \"form-control\",\n                    placeholder: \"Enter group name\",\n                    onChange: handleChange,\n                    value: values.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    id: \"locationHelp\",\n                    className: \"form-text text-muted text-danger\",\n                    children: errors.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group col-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Issue Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n                    id: \"basic\",\n                    placeholder: \"DD/MM/YYYY \",\n                    name: \"issueDate\",\n                    style: {\n                      width: '100px'\n                    },\n                    value: values.issueDate,\n                    className: \"w-100\",\n                    onChange: e => setFieldValue(\"issueDate\", e.value.toLocaleDateString(\"fr-CA\")),\n                    showIcon: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    id: \"addressHelp\",\n                    className: \"form-text text-muted text-danger\",\n                    children: errors.issueDate\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Keys\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  values: values.keys,\n                  className: \"dropdown\",\n                  onChange: (opt, e) => {\n                    setFieldValue(\"keys\", opt === null || opt === void 0 ? void 0 : opt.map(obj => {\n                      return obj.value;\n                    }));\n                  },\n                  options: this.state.keys,\n                  placeholder: 'Please select keys',\n                  styles: this.colourStyles,\n                  isMulti: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  id: \"addressHelp\",\n                  className: \"form-text text-muted text-danger\",\n                  children: errors.keys\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"user\",\n                  className: \"form-control\",\n                  placeholder: \"Enter user\",\n                  onChange: handleChange,\n                  value: values.user\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  id: \"addressHelp\",\n                  className: \"form-text text-muted text-danger\",\n                  children: errors.user\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary w-100\",\n                disabled: errors.user != undefined || errors.name != undefined || errors.keys != undefined || errors.issueDate != undefined,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 9\n        }, this)\n      }, void 0, false);\n    };\n\n    this.openModal = () => {\n      this.setState({\n        modalIsOpen: true\n      });\n    };\n\n    this.onPageChange = event => {\n      this.setState({\n        offset: event.first,\n        limit: event.rows\n      });\n      this.fetchedData(event.first, event.rows);\n    };\n\n    this.handleNewGroup = () => {\n      var issueDate = new Date();\n      var initialValues = {\n        name: '',\n        user: '',\n        issueDate: issueDate,\n        keys: []\n      };\n      this.setState({\n        selectedId: null\n      });\n      this.setState({\n        initialValues: initialValues\n      });\n      this.setState({\n        keys: this.state.freeKeys\n      });\n      this.openModal();\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    this.deleteGroup = async id => {\n      const api = `/api/kdfinder/keysgroups/`;\n\n      if (window.confirm('Do you want to delete this group?')) {\n        let response = await axiosInstance.delete(api, {\n          data: {\n            id: id\n          },\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (response.data.success) {\n          this.changeModal();\n          this.addToast(\"Successfuly removed group\");\n          this.fetchedData(null, null);\n        }\n\n        console.log('Thing was saved to the database.');\n      }\n    };\n\n    this.editGroup = async id => {\n      var obj = this.state.data.filter(obj => {\n        return obj.id == id;\n      });\n\n      if (obj.length > 0) {\n        var user;\n        var keys = [];\n        var keyValues = [];\n        obj[0].sequence.map(item => {\n          user = item.key_holder;\n          keys.push({\n            label: item.key_id + \" - \" + item.sequence,\n            value: item.id\n          });\n          keyValues.push(item.id);\n        });\n        var name = obj[0].name;\n        var issueDate = new Date(obj[0].issue_date);\n        var initialValues = {\n          name: name,\n          user: user,\n          issueDate: issueDate,\n          keys: keyValues\n        };\n        this.setState({\n          selectedId: id\n        });\n        this.setState({\n          initialValues: initialValues\n        });\n        this.state.freeKeys.forEach(key => {\n          keys.push(key);\n        });\n        this.setState({\n          keys: keys\n        });\n        this.openModal();\n      }\n    };\n\n    this.toast = /*#__PURE__*/React.createRef();\n    this.state = {\n      showDetails: false,\n      edit: false,\n      data: [],\n      view: [],\n      csvTable: [],\n      currentuser: [],\n      isSelected: '',\n      file: [],\n      add_group: true,\n      files: [],\n      loading: false,\n      modalIsOpen: false,\n      door_compromised: '',\n      keys: [],\n      freeKeys: [],\n      currentItem: '',\n      limit: 10,\n      offset: null,\n      initialValues: {\n        name: '',\n        user: '',\n        keys: [],\n        issueDate: new Date()\n      },\n      totalRecords: null,\n      selectedId: null\n    };\n  }\n\n  render() {\n    const lastLoginDate = this.state.currentuser.last_login ? new Date(this.state.currentuser.last_login).toLocaleDateString() : '';\n    const lastUpdatedDate = this.state.currentuser.last_modified ? new Date(this.state.currentuser.last_modified).toLocaleDateString() : \"\";\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Modal, {\n          style: customStyles,\n          isOpen: this.state.modalIsOpen,\n          onRequestClose: this.closeModal,\n          children: this.renderModal(this.state.selectedId, this.state.initialValues)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay-box1\",\n            children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n              css: override,\n              color: \"rgb(0, 158, 214)\",\n              loading: this.state.loading,\n              height: 30,\n              width: 5,\n              radius: 2,\n              margin: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 37\n          }, this) : '', /*#__PURE__*/_jsxDEV(Toast, {\n            ref: this.toast\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upper1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row col-md-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"#009DD0\",\n                      fontSize: \"1.5rem\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontWeight: \"bold\",\n                        marginRight: \".6rem\"\n                      },\n                      children: \"Welcome\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 78\n                    }, this), this.state.currentuser.first_name, \" \", this.state.currentuser.last_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 28\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\" Your last log in was on :  \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: lastLoginDate\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 56\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Last Updated:  \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: lastUpdatedDate\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 43\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6 align-items-end justify-content-end d-flex\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: this.handleNewGroup,\n                  style: this.state.add_group ? {\n                    fontWeight: \"lighter\"\n                  } : {\n                    visibility: \"hidden\"\n                  },\n                  className: \"btn btn-outline-danger\",\n                  children: \"+Add New Group\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table\",\n              style: {\n                backgroundColor: \"#fff\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                style: {\n                  color: \"#fff\",\n                  backgroundColor: \"#12739A\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    \"data-visible\": \"true\",\n                    children: \"Group Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Issue Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      textAlign: \"right\"\n                    },\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.data.map((item, i) => {\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          onClick: () => this.details(item, i),\n                          style: {\n                            cursor: \"pointer\",\n                            color: \"#009ED6\",\n                            textDecoration: \"underline\"\n                          },\n                          children: item.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 442,\n                          columnNumber: 23\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 442,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: new Date(item.issue_date).toLocaleDateString(\"fr-CA\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 443,\n                        columnNumber: 19\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          textAlign: \"right\"\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          alt: \"viewkeys\",\n                          style: {\n                            marginLeft: \"0.6rem\",\n                            width: '0.8rem'\n                          },\n                          src: edit1,\n                          onClick: () => this.editGroup(item.id)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 445,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                          alt: \"delete\",\n                          style: {\n                            marginLeft: \"0.938rem\",\n                            cursor: \"pointer\",\n                            width: '0.8rem'\n                          },\n                          onClick: () => this.deleteGroup(item.id),\n                          src: removeIcon\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 447,\n                          columnNumber: 21\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 444,\n                        columnNumber: 19\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 17\n                    }, this), this.renderEditForm(item.showDetails, item.id)]\n                  }, void 0, true);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Paginator, {\n              first: this.state.offset,\n              rows: this.state.limit,\n              totalRecords: this.state.totalRecords,\n              rowsPerPageOptions: [10, 20, 30],\n              template: \"RowsPerPageDropdown CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink \",\n              onPageChange: this.onPageChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default ViewKeysGroup;","map":{"version":3,"sources":["/Users/mac/Desktop/customer_portal_cls/frontend/src/component/sidebar/ViewKeysGroup.tsx"],"names":["React","ViewKeysGroupDetails","removeIcon","axiosInstance","Paginator","FadeLoader","css","Modal","Toast","Select","Formik","Calendar","customStyles","content","top","left","right","bottom","marginRight","transform","height","overflow","override","ViewKeysGroup","Component","constructor","props","toast","fetchedData","offset","limit","setState","loading","api","response","get","headers","data","results","map","obj","showDetails","keys","label","key_id","sequence","value","id","freeKeys","state","length","current","show","severity","detail","currentuser","current_user","totalRecords","count","renderEditForm","color","textAlign","marginTop","loadc","load","view","componentDidMount","details","item","id1","updatedData","i","edit","currentItem","colourStyles","option","provided","backgroundColor","isSelected","cursor","control","styles","modal","modalIsOpen","addToast","mes","changeModal","submit","values","post","success","renderModal","initialValues","width","closeModal","cancel","errors","name","user","issueDate","setSubmitting","console","log","touched","handleChange","handleBlur","handleSubmit","isSubmitting","setFieldValue","e","toLocaleDateString","opt","undefined","openModal","onPageChange","event","first","rows","handleNewGroup","Date","selectedId","deleteGroup","window","confirm","delete","editGroup","filter","keyValues","key_holder","push","issue_date","forEach","key","createRef","csvTable","file","add_group","files","door_compromised","render","lastLoginDate","last_login","lastUpdatedDate","last_modified","fontSize","fontWeight","first_name","last_name","visibility","textDecoration","marginLeft","edit1"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ViewKeysGroupDetails from './ViewKeysGroupDetails';\nimport image from '../icons/pdf-1.svg';\nimport csv from '../icons/csv.svg';\nimport schedule from '../icons/schedule.svg';\nimport warning from '../icons/warning.svg';\nimport brokenkey from '../icons/BrokenKey.svg';\nimport questionmark from '../icons/questionmark.svg';\nimport csv1 from '../icons/csv1.svg';\nimport removeIcon from '../icons/remove.png';\nimport axiosInstance , {baseURL} from '../../api/api';\nimport 'jspdf-autotable';\nimport cancel from '../icons/cancel.svg';\nimport { Paginator } from 'primereact/paginator';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport Modal from 'react-modal';\nimport { Toast } from 'primereact/toast';\nimport Select from \"react-select\";\nimport { Formik } from 'formik';\nimport { Calendar } from 'primereact/calendar';\nimport edit1 from '../icons/edit.svg';\n\n\nconst customStyles = {\n  content : {\n    top                   : '50%',\n    left                  : '50%',\n    right                 : 'auto',\n    bottom                : 'auto',\n    marginRight           : '-20%',\n    transform             : 'translate(-50%, -50%)',\n    height: '30rem',\n    overflow: 'inherit !important'\n  }\n};\n\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\ninterface Props{\n  edit:boolean;\n  data:any;\n  view:any;\n  currentuser:any;\n  showDetails: any;\n  isSelected:any;\n  file:any;\n  files:any;\n  limit:any;\n  offset:any;\n  totalRecords:any;\n  loading : boolean;\n  modalIsOpen : boolean;\n  door_compromised:any;\n  currentItem: any;\n  add_group: any;\n  csvTable:any;\n  keys: any[];\n  freeKeys: any[];\n  selectedId: any;\n  initialValues: any;\n}\n\nclass ViewKeysGroup extends React.Component<{},Props> {\n  toast: React.RefObject<any>;\n\n  constructor(props:Props){\n    super(props);\n    this.toast = React.createRef();\n\n    this.state={\n      showDetails: false,\n      edit:false,\n      data:[],\n      view:[],\n      csvTable:[],\n      currentuser:[],\n      isSelected: '',\n      file:[] as any,\n      add_group: true,\n      files:[] as any,\n      loading : false,\n      modalIsOpen:false,\n      door_compromised:'',\n      keys: [],\n      freeKeys:[],\n      currentItem: '',\n      limit:10,\n      offset: null,\n      initialValues: {name: '',user: '',keys: [],issueDate: new Date()},\n      totalRecords:null,\n      selectedId:null\n    }\n  }\n  \n  customStyles = {\n    content : {\n      top                   : '50%',\n      left                  : '50%',\n      right                 : 'auto',\n      bottom                : 'auto',\n      marginRight           : '-20%',\n      transform             : 'translate(-50%, -50%)',\n      height: '30rem',\n      overflow: 'inherit !important',\n    }\n  };\n\n    \n  fetchedData= async(offset:any,limit:any) => {\n    this.setState({loading : true});\n    const api = `/api/kdfinder/keysgroups`;\n    let response = await axiosInstance.get(api , { headers: {'Content-Type': 'application/json'} } );\n    this.setState({data:response.data.results.data.map((obj:any)=>{\n      return({...obj, showDetails: false\n      })\n    })});\n    this.setState({keys:response.data.results.keys.map((obj:any)=>{\n      return({\n        label: obj.key_id +\" - \"+ obj.sequence,\n        value: obj.id\n      })\n    })});\n    this.setState({freeKeys: this.state.keys})\n    if(!(this.state.data.length === 0))\n    {\n        this.setState({loading : false});\n    }else {\n      this.setState({loading : false});\n      this.toast.current.show({severity: 'error',  detail: 'No record found'});\n    }\n    this.setState({currentuser:response.data.results.current_user});\n    this.setState({totalRecords:response.data.count});\n    return this.state.data;\n  }\n\n  renderEditForm=(show:any,id:any)=>{\n    if(show){\n      return(\n        <>\n          <tr style={{height:\"0px\"}}>\n              <td colSpan={4}>\n              <div className=\"accordian\"> \n                    <div className=\"col-12\">\n                        <div className=\"row\">\n                            <div className=\"col-6\">\n                                <p style={{color:\"#fff\",textAlign:\"left\",marginTop:\"10px\"}}>Key Holder Informations</p>\n                            </div>\n                            <div className=\"col-6\">\n                                </div>\n                        </div>\n                    </div>\n                </div>\n                <ViewKeysGroupDetails loadc={this.loadc} load={this.load} viewdata={this.state.view}/>\n              </td>\n          </tr>\n       </>\n      )\n    }\n  }    \n\n  componentDidMount = () =>{\n    this.fetchedData(null,null);\n  }\n\n  details=(item:any,id1:any)=> {\n    //this.setState({loading:true});\n    const updatedData = this.state.data.map((obj:any,i:number)=>{\n      if(i===id1){\n        obj.showDetails = true;\n      }else{\n        obj.showDetails = false;\n      }\n      return {...obj}\n    });\n    this.setState({data:updatedData});\n    this.setState({edit:true});\n    this.setState({view:item.sequence, currentItem: item});\n  }\n\n  colourStyles ={\n    option: (provided:any) => ({\n      ...provided,\n      backgroundColor: this.state.isSelected ? 'white' : 'white',\n      cursor: 'pointer',\n      color: this.state.isSelected ? 'black' : 'black',\n      \"&:hover\": {\n        backgroundColor: \"#ccc\"\n      }\n    }),\n    control: (styles:any) => ({\n      ...styles,\n      cursor: 'pointer',\n      \n    }),\n  }\n   \n\n  load = ()=>{\n    this.setState({loading:false});\n  }\n   \n  loadc = ()=>{\n    this.setState({loading:true});\n  }  \n\n  modal = () =>{\n    this.setState({modalIsOpen:false});\n  }\n\n  addToast=(mes:any)=>{\n    this.toast.current.show({severity: 'success', detail: mes});\n  }\n  \n  changeModal = () =>{\n    this.setState({modalIsOpen:false});\n  }\n\n  submit = async(values: any, id:any=null) => {\n    var api = `/api/kdfinder/keysgroups/`;\n    if(id){\n      api = api + \"group/\" + id\n    }\n    let response = await axiosInstance.post(api ,values, { headers: {'Content-Type': 'application/json'} } );\n    if(response.data.success){\n      this.changeModal()\n      this.addToast(\"Successfuly added group\")\n      this.fetchedData(null,null)\n    }        \n  }\n\n\n  renderModal = (id:any,initialValues:any) =>{ \n    return(\n        <>\n        <div>\n        <div style={{textAlign:'right'}} >\n           <img alt=\"cancel\" style={{width:'1.875rem',cursor:'pointer'}} onClick={this.closeModal} src={cancel}/>\n        </div>\n        <Formik\n          initialValues={initialValues}\n          validate={values => {\n            var errors: any = {}\n            if (!values.name) {\n              errors['name'] = 'Required';\n            }\n            if (!values.user) {\n              errors['user'] = 'Required';\n            }\n            if (!values.keys) {\n              errors['keys'] = 'Required';\n            }\n            if (!values.issueDate) {\n              errors['issueDate'] = 'Required';\n            }\n            return errors;\n          }}\n          onSubmit={(values, { setSubmitting }) => {\n            this.submit(values, id)\n            console.log(values)\n            setSubmitting(false);\n          }}\n        >\n          {({\n            values,\n            errors,\n            touched,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            isSubmitting,\n            setFieldValue\n            /* and other goodies */\n          }) => (\n            <form onSubmit={handleSubmit}>\n              <div className=\"row\">\n                <div className=\"form-group col-6\">\n                  <label>Group Name</label>\n                  <input type=\"text\" name=\"name\" \n                      className=\"form-control\"\n                      placeholder=\"Enter group name\"\n                      onChange={handleChange}\n                      value={values.name}\n                    />\n                  <small id=\"locationHelp\" className=\"form-text text-muted text-danger\">{errors.name}</small>\n                </div>\n                <div className=\"form-group col-6\">\n                  <label>Issue Date</label>\n                  <Calendar id=\"basic\" placeholder=\"DD/MM/YYYY \" \n\t\t\t\t\t\t\t\t name=\"issueDate\" style={{width: '100px'}} value={values.issueDate} className=\"w-100\" onChange={(e:any) => setFieldValue(\"issueDate\",e.value.toLocaleDateString(\"fr-CA\"))}   showIcon/>\n                  <small id=\"addressHelp\" className=\"form-text text-muted text-danger\">{errors.issueDate}</small>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <label>Keys</label>\n                <Select\n                    values={values.keys}\n                    className=\"dropdown\"\n                    onChange={(opt, e) => {\n                      setFieldValue(\"keys\",opt?.map(obj => {\n                        return obj.value\n                      }))\n                    }}\n                    options={this.state.keys}\n                    placeholder={'Please select keys'}\n                    styles={this.colourStyles}\n                    isMulti\n\n                />\n                <small id=\"addressHelp\" className=\"form-text text-muted text-danger\">{errors.keys}</small>\n              </div>\n              <div className=\"form-group\">\n                <label>User</label>\n                <input type=\"text\" name=\"user\" \n                    className=\"form-control\"\n                    placeholder=\"Enter user\"\n                    onChange={handleChange}\n                    value={values.user}\n                  />\n                <small id=\"addressHelp\" className=\"form-text text-muted text-danger\">{errors.user}</small>\n              </div>\n              <button type=\"submit\" className=\"btn btn-primary w-100\" disabled={errors.user != undefined || errors.name != undefined || errors.keys != undefined || errors.issueDate != undefined}>\n                Save \n              </button>\n            </form>\n          )}\n        </Formik>\n        </div>\n        </>\n    )\n  }\n\n  openModal = () => {\n    this.setState({modalIsOpen:true});\n  }\n\n  onPageChange = (event:any) => {\n    this.setState({offset:event.first,limit:event.rows});\n    this.fetchedData(event.first,event.rows);\n  }\n  \n  handleNewGroup = () => {\n    var issueDate = new Date()\n    var initialValues = {name: '', user: '',issueDate: issueDate, keys: []}\n    this.setState({selectedId: null})\n    this.setState({initialValues: initialValues})\n    this.setState({keys: this.state.freeKeys})\n    this.openModal()\n  }\n\n  closeModal = () =>{\n    this.setState({modalIsOpen:false});\n  }\n  \n  deleteGroup = async (id:any) => {\n    const api = `/api/kdfinder/keysgroups/`;\n    if (window.confirm('Do you want to delete this group?')) {\n      let response = await axiosInstance.delete(api , { data: {id: id},headers: {'Content-Type': 'application/json'} } );\n      if(response.data.success){\n        this.changeModal()\n        this.addToast(\"Successfuly removed group\")\n        this.fetchedData(null,null)\n      }  \n      console.log('Thing was saved to the database.');\n    } \n  }\n\n  editGroup = async (id:any) => {\n    var obj = this.state.data.filter((obj: any) => {\n      return obj.id == id\n    });\n    if (obj.length > 0) {\n      var user;\n      var keys:any[] = [];\n      var keyValues:any[] = [];\n      obj[0].sequence.map((item: any) => {\n        user = item.key_holder\n        keys.push({\n          label: item.key_id +\" - \"+ item.sequence,\n          value: item.id\n        })\n        keyValues.push(item.id)\n      });\n      var name = obj[0].name\n      var issueDate = new Date(obj[0].issue_date)\n      var initialValues = {name: name, user: user,issueDate: issueDate, keys: keyValues}\n      this.setState({selectedId: id})\n      this.setState({initialValues: initialValues})\n      this.state.freeKeys.forEach(key => {\n        keys.push(key)\n      })\n      this.setState({keys: keys});\n      this.openModal()\n    }\n  }\n\n  render(){\n    const lastLoginDate  = this.state.currentuser.last_login? new Date(this.state.currentuser.last_login).toLocaleDateString(): '';\n    const lastUpdatedDate = this.state.currentuser.last_modified? new Date(this.state.currentuser.last_modified).toLocaleDateString(): \"\";\n    return (\n      <>\n        <div>\n            <Modal style={customStyles} isOpen={this.state.modalIsOpen} onRequestClose={this.closeModal}>{this.renderModal(this.state.selectedId,this.state.initialValues)}</Modal>\n            <div>\n            {\n              this.state.loading  ? <div className='overlay-box1'>\n              <FadeLoader css={override} color={\"rgb(0, 158, 214)\"} loading={this.state.loading}  height={30} width={5} radius={2} margin={20} />\n          </div> :''\n            }\n            <Toast ref={this.toast} />\n              <div className=\"upper1\" >\n                <div className=\"row col-md-12\">\n                    <div  className=\"col-6\">\n                        <p><span style={{color:\"#009DD0\",fontSize:\"1.5rem\"}}><span style={{fontWeight:\"bold\", marginRight:\".6rem\"}}>Welcome</span>{this.state.currentuser.first_name} {this.state.currentuser.last_name}</span></p>\n                        <p> Your last log in was on :  <strong>{lastLoginDate}</strong></p>\n                        <p>Last Updated:  <strong>{lastUpdatedDate}</strong></p>\n                    </div> \n                    <div className=\"col-6 align-items-end justify-content-end d-flex\">\n                      <button onClick={this.handleNewGroup} style={this.state.add_group ? {fontWeight:\"lighter\"}: {visibility:\"hidden\"}} className=\"btn btn-outline-danger\">+Add New Group</button>\n                    </div>\n                </div>\n              </div>\n              <div className=\"content\" >\n            <table className=\"table\" style={{backgroundColor:\"#fff\"}}>\n              <thead style={{ color: \"#fff\",backgroundColor:\"#12739A\" }}>\n                <tr>\n                  <th data-visible=\"true\" >Group Name</th>\n                  <th>Issue Date</th>\n                  <th style={{textAlign:\"right\"}}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n              {this.state.data.map((item: any,i: any)=>{\n              return(\n                <>\n                <tr key={i}>\n                  <td><span onClick={()=>this.details(item,i)} style={{cursor:\"pointer\",color:\"#009ED6\",textDecoration:\"underline\"}}>{item.name}</span></td>\n                  <td>{(new Date(item.issue_date)).toLocaleDateString(\"fr-CA\")}</td>\n                  <td style={{textAlign:\"right\"}}>\n                    <img alt=\"viewkeys\" style={{marginLeft:\"0.6rem\",width:'0.8rem'}} src={edit1} onClick={() => this.editGroup(item.id)}/>\n\n                    <img alt=\"delete\" style={{marginLeft:\"0.938rem\",cursor:\"pointer\",width:'0.8rem'}} onClick={() =>this.deleteGroup(item.id)} src={removeIcon}/>\n                  </td>\n                </tr>\n                {this.renderEditForm(item.showDetails,item.id)}\n                </>\n                )})}\n              </tbody>\n              </table>\n              <Paginator first={this.state.offset} rows={this.state.limit} totalRecords={this.state.totalRecords} rowsPerPageOptions={[10, 20, 30]} \n                    template=\"RowsPerPageDropdown CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink \"\n                    onPageChange={this.onPageChange}></Paginator>\n                    \n              </div>\n            </div>\n            </div>\n          </>\n      );\n    }\n  }\nexport default ViewKeysGroup;  "]},"metadata":{},"sourceType":"module"}