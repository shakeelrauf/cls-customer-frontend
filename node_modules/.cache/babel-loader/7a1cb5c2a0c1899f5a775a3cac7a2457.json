{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/sidebar/ManageUser.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from '../../api/api';\nimport edit1 from \"../icons/edit.svg\";\nimport save from \"../icons/floppy-disk.svg\";\nimport Select from 'react-select';\nimport 'primereact/resources/themes/saga-blue/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport { Paginator } from 'primereact/paginator';\nimport { Toast } from 'primereact/toast';\nimport { useRef } from 'react';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport AddNewUser from './AddNewUser';\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nlet ManageUser = () => {\n  _s();\n\n  let history = useHistory();\n  const toast = useRef();\n  const initialFormData = Object.freeze({\n    user: null,\n    key_finder: false,\n    service_request: false,\n    inv_statements: false,\n    quotes: false,\n    hs_signatory: false,\n    add_user: false,\n    audit: false\n  });\n  const initialFormData1 = Object.freeze({\n    first_name: \"\",\n    last_name: \"\",\n    phone: \"\"\n  });\n  const [formData, setFormData] = useState(initialFormData);\n  const [formData1, setFormData1] = useState(initialFormData1); //const [file, setFile] = useState<any>([1]);\n\n  const [addnewuser, setAddnewuser] = useState(false);\n  const [offset, setOffset] = useState(0);\n  const [limit, setLimit] = useState(10);\n  const [totalRecords, setTotalRecords] = useState(0);\n  const [currentuser, setCurrentuser] = useState([]);\n  const [current_user_access, setCurrent_user_access] = useState({});\n  const [file_numbers, setFile_numbers] = useState([]);\n  const [add_user, setAdd_user] = useState([]);\n  const [selected, setSelected] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]); // const [edit, setEdit] = useState(false);\n\n  const handleChange = event => {\n    setSelected(Array.isArray(event) ? event.map(x => x.value) : []);\n  };\n\n  const options = file_numbers.map((item, i) => {\n    return {\n      label: item.file_number + \"-\" + item.location,\n      value: item.id\n    };\n  });\n\n  const handleCheckboxChange = e => {\n    let name = e.target.name;\n    let checked = e.target.checked;\n    setFormData({ ...formData,\n      [name]: checked\n    });\n  };\n\n  const handleInputChange = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n    setFormData1({ ...formData1,\n      [name]: value\n    });\n  };\n\n  const handleCheckboxSlider = (e, item) => {\n    let id = item.useraccess.user;\n    axiosInstance.patch(`/api/customer/manage/user/${id}/`, {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem('access_token')}`\n      }\n    }).then(res => {\n      if (res.data.data.is_active === false) {\n        toast.current.show({\n          severity: 'success',\n          detail: 'User Disabled'\n        });\n      } else {\n        toast.current.show({\n          severity: 'success',\n          detail: 'User Enabled'\n        });\n      }\n    });\n  };\n\n  let editdetails = (item, id) => {\n    const updatedData = data.map((obj, i) => {\n      if (i === id) {\n        obj.showDetails = true;\n      } else {\n        obj.showDetails = false;\n      }\n\n      return { ...obj\n      };\n    });\n    setData(updatedData);\n    setFormData({ ...formData,\n      ...item.useraccess\n    });\n    setFormData1({ ...formData1,\n      first_name: item.first_name,\n      last_name: item.last_name,\n      phone: item.phone,\n      is_active: item.is_active\n    }); //setFile(item.file_numbers);\n\n    setSelected(item.file_numbers);\n  };\n\n  const onUpdate = (e, id) => {\n    e.preventDefault();\n    setLoading(true);\n    axiosInstance.put(`/api/customer/manage/user/${formData.user}/`, {\n      first_name: formData1.first_name,\n      last_name: formData1.last_name,\n      phone: formData1.phone,\n      file_numbers: selected,\n      useraccess: {\n        key_finder: formData.key_finder,\n        service_request: formData.service_request,\n        inv_statements: formData.inv_statements,\n        quotes: formData.quotes,\n        hs_signatory: formData.hs_signatory,\n        add_user: formData.add_user,\n        audit: formData.audit\n      },\n      method: \"put\"\n    }, {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem('access_token')}`\n      }\n    }).then(res => {\n      setLoading(false);\n      let node = toast.current;\n\n      if (res.data.status === 200) {\n        if (node) {\n          node.show({\n            severity: 'success',\n            detail: 'User Updated Successfully'\n          });\n        }\n\n        const updatedData = data.map((obj, i) => {\n          if (i === id) {\n            obj.showDetails = false;\n            obj.first_name = formData1.first_name;\n            obj.last_name = formData1.last_name;\n            obj.phone = formData1.phone;\n            obj.file_numbers = selected;\n            obj.useraccess.key_finder = formData.key_finder;\n            obj.useraccess.service_request = formData.service_request;\n            obj.useraccess.inv_statements = formData.inv_statements;\n            obj.useraccess.quotes = formData.quotes;\n            obj.useraccess.hs_signatory = formData.hs_signatory;\n            obj.useraccess.add_user = formData.add_user;\n            obj.useraccess.audit = formData.audit;\n          }\n\n          return { ...obj\n          };\n        });\n        setData(updatedData);\n      } else {\n        setLoading(false);\n\n        if (node) {\n          node.show({\n            severity: 'error',\n            detail: 'Wrong Details'\n          });\n        }\n      }\n    });\n  };\n\n  const fetchDataAsync = async (offset, limit) => {\n    try {\n      setLoading(true);\n      const api = `/api/customer/manage/user/?limit=${limit}&offset=${offset}`;\n      let response = await axiosInstance.get(api, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('access_token')}`\n        }\n      });\n      setData(response.data.results.data.map(obj => {\n        return { ...obj,\n          showDetails: false\n        };\n      }));\n\n      if (!(data === null)) {\n        setLoading(false);\n      }\n\n      setFile_numbers(response.data.results.file_numbers);\n      setCurrentuser(response.data.results.current_user);\n      setCurrent_user_access(response.data.results.current_user_access);\n      setAdd_user(response.data.results.current_user_access.add_user);\n      setTotalRecords(response.data.count);\n      return data;\n    } catch (error) {\n      setLoading(false);\n      throw error;\n    }\n  };\n\n  useEffect(() => {\n    fetchDataAsync(null, null);\n  }, []);\n\n  function cancel(id) {\n    const updatedData = data.map((obj, i) => {\n      if (i === id) {\n        obj.showDetails = false;\n      }\n\n      return { ...obj\n      };\n    });\n    setData(updatedData); //setEdit(false);\n    //renderEditForm(data[id].showDetails,id);\n  }\n\n  let renderEditForm = (show, id) => {\n    if (show) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 10,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"content\",\n              style: {\n                height: \"23.18rem\",\n                border: '1px solid #12739A',\n                overflowX: 'hidden'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"accordian\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-6\",\n                        children: /*#__PURE__*/_jsxDEV(\"p\", {\n                          style: {\n                            color: \"#fff\",\n                            textAlign: \"left\",\n                            marginTop: \"0.625rem\"\n                          },\n                          children: \"Edit User Permissions\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 226,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 225,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-6\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"detail-created\",\n                          onClick: e => onUpdate(e, id),\n                          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                            style: {\n                              marginRight: \".5rem\",\n                              marginLeft: '0.625rem',\n                              width: '1rem'\n                            },\n                            alt: \"save\",\n                            src: save\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 229,\n                            columnNumber: 101\n                          }, this), \"Save\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 229,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"detail-created\",\n                          onClick: () => cancel(id),\n                          children: \"Cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 230,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  style: {\n                    padding: \"1rem\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"first_name\",\n                      className: \"form-control\",\n                      placeholder: \"Enter First Name *\",\n                      value: formData1.first_name,\n                      onChange: handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"last_name\",\n                      className: \"form-control\",\n                      placeholder: \"Enter Last Name *\",\n                      value: formData1.last_name,\n                      onChange: handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"phone\",\n                      className: \"form-control\",\n                      placeholder: \"Phone Number *\",\n                      value: formData1.phone,\n                      onChange: handleInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    className: \"dropdown\",\n                    placeholder: \"Select Option *\",\n                    value: options.filter(obj => selected.includes(obj.value)) // set selected values\n                    ,\n                    options: options // set list of the data\n                    ,\n                    onChange: handleChange // assign onChange function\n                    ,\n                    isMulti: true,\n                    isClearable: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-check\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          height: \"1.375rem\",\n                          width: \"1.375rem\",\n                          cursor: 'pointer'\n                        },\n                        name: \"key_finder\",\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: formData.key_finder,\n                        onChange: handleCheckboxChange,\n                        id: \"flexCheckDefault\",\n                        disabled: !current_user_access.key_finder\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 263,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        style: {\n                          paddingLeft: \"1.1em\"\n                        },\n                        className: \"form-check-label\",\n                        children: \"Manage Keys\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          height: \"1.375rem\",\n                          width: \"1.375rem\",\n                          cursor: 'pointer'\n                        },\n                        name: \"service_request\",\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: formData.service_request,\n                        onChange: handleCheckboxChange,\n                        id: \"flexCheckDefault6\",\n                        disabled: !current_user_access.service_request\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        style: {\n                          paddingLeft: \"1.1em\"\n                        },\n                        className: \"form-check-label\",\n                        children: \"Request Service\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          height: \"1.375rem\",\n                          width: \"1.375rem\",\n                          cursor: 'pointer'\n                        },\n                        name: \"inv_statements\",\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: formData.inv_statements,\n                        onChange: handleCheckboxChange,\n                        id: \"flexCheckDefault1\",\n                        disabled: !current_user_access.inv_statements\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 275,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        style: {\n                          paddingLeft: \"1.1em\"\n                        },\n                        className: \"form-check-label\",\n                        children: \"Pay Bills\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          height: \"1.375rem\",\n                          width: \"1.375rem\",\n                          cursor: 'pointer'\n                        },\n                        name: \"quotes\",\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: formData.quotes,\n                        onChange: handleCheckboxChange,\n                        id: \"flexCheckDefault2\",\n                        disabled: !current_user_access.quotes\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        style: {\n                          paddingLeft: \"1.1em\"\n                        },\n                        className: \"form-check-label\",\n                        children: \"Accept Quotes\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          height: \"1.375rem\",\n                          width: \"1.375rem\",\n                          cursor: 'pointer'\n                        },\n                        name: \"hs_signatory\",\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: formData.hs_signatory,\n                        onChange: handleCheckboxChange,\n                        id: \"flexCheckDefault3\",\n                        disabled: !current_user_access.hs_signatory\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        style: {\n                          paddingLeft: \"1.1em\"\n                        },\n                        className: \"form-check-label\",\n                        children: \"key Authorizers\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    style: {\n                      paddingBottom: '1rem'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          height: \"1.375rem\",\n                          width: \"1.375rem\",\n                          cursor: 'pointer'\n                        },\n                        name: \"add_user\",\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: formData.add_user,\n                        onChange: handleCheckboxChange,\n                        id: \"flexCheckDefault4\",\n                        disabled: !current_user_access.add_user\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 297,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        style: {\n                          paddingLeft: \"1.1em\"\n                        },\n                        className: \"form-check-label\",\n                        children: \"Users\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 298,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        style: {\n                          height: \"1.375rem\",\n                          width: \"1.375rem\",\n                          cursor: 'pointer'\n                        },\n                        name: \"audit\",\n                        className: \"form-check-input\",\n                        type: \"checkbox\",\n                        checked: formData.audit,\n                        onChange: handleCheckboxChange,\n                        id: \"flexCheckDefault5\",\n                        disabled: !current_user_access.audit\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        style: {\n                          paddingLeft: \"1.1em\"\n                        },\n                        className: \"form-check-label\",\n                        children: \"Audit Trails\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 10\n        }, this)\n      }, void 0, false);\n    }\n  };\n\n  const onPageChange = event => {\n    setLimit(event.rows);\n    setOffset(event.first);\n    fetchDataAsync(event.first, event.rows);\n  };\n\n  const permission = () => {\n    toast.current.show({\n      severity: 'error',\n      detail: `You don't have permission`\n    });\n  };\n\n  function newuser() {\n    setAddnewuser(true);\n  }\n\n  function addnew() {\n    setAddnewuser(false);\n  }\n\n  function addToast() {\n    fetchDataAsync(null, null);\n    toast.current.show({\n      severity: 'success',\n      detail: 'User Created'\n    });\n  }\n\n  const lastLoginDate = currentuser.last_login ? new Date(currentuser.last_login).toLocaleDateString() : '';\n  const lastUpdatedDate = currentuser.last_modified ? new Date(currentuser.last_modified).toLocaleDateString() : \"\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: addnewuser ? /*#__PURE__*/_jsxDEV(AddNewUser, {\n      addnewuser: addnew,\n      addtoast: addToast,\n      permissions: current_user_access\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 12\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Toast, {\n        ref: toast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 14\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay-box1\",\n        children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n          css: override,\n          color: \"rgb(0, 158, 214)\",\n          loading: loading,\n          height: 30,\n          width: 5,\n          radius: 2,\n          margin: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 24\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upper1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: \"0.625rem\",\n              marginLeft: \"1.25rem\"\n            },\n            className: \"col-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#009DD0\",\n                  fontSize: \"1.5rem\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: \"bold\"\n                  },\n                  children: \"Welcome\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 76\n                }, this), \"  \", currentuser.first_name, \" \", currentuser.last_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 26\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" Your last log in was on :  \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: lastLoginDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Last Updated:  \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: lastUpdatedDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: newuser,\n              style: add_user ? {\n                fontWeight: \"lighter\",\n                marginTop: \"-3.75rem\",\n                float: \"right\",\n                marginRight: \"-31.25rem\"\n              } : {\n                visibility: \"hidden\"\n              },\n              className: \"btn btn-outline-danger\",\n              children: \"+Add New User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            style: {\n              color: \"#fff\",\n              backgroundColor: \"#12739A\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"User Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"Email ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Manage Keys\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Request Service\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Pay Bills\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Accept Quotes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Key Authorizers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Users\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Audit Trails\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  textAlign: \"right\"\n                },\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [data.map((item, i) => {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"left\"\n                    },\n                    children: [item.first_name, \" \", item.last_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        height: \"1.375rem\",\n                        width: \"1.375rem\",\n                        borderRadius: \".25em\",\n                        position: \"initial\",\n                        marginLeft: '0px'\n                      },\n                      type: \"checkbox\",\n                      checked: item.useraccess.key_finder,\n                      className: \"form-check-input\",\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 395,\n                      columnNumber: 26\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        height: \"1.375rem\",\n                        width: \"1.375rem\",\n                        borderRadius: \".25em\",\n                        position: \"initial\",\n                        marginLeft: '0px'\n                      },\n                      type: \"checkbox\",\n                      checked: item.useraccess.service_request,\n                      className: \"form-check-input\",\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 26\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        height: \"1.375rem\",\n                        width: \"1.375rem\",\n                        borderRadius: \".25em\",\n                        position: \"initial\",\n                        marginLeft: '0px'\n                      },\n                      type: \"checkbox\",\n                      checked: item.useraccess.inv_statements,\n                      className: \"form-check-input\",\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 26\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        height: \"1.375rem\",\n                        width: \"1.375rem\",\n                        borderRadius: \".25em\",\n                        position: \"initial\",\n                        marginLeft: '0px'\n                      },\n                      type: \"checkbox\",\n                      checked: item.useraccess.quotes,\n                      className: \"form-check-input\",\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 26\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        height: \"1.375rem\",\n                        width: \"1.375rem\",\n                        borderRadius: \".25em\",\n                        position: \"initial\",\n                        marginLeft: '0px'\n                      },\n                      type: \"checkbox\",\n                      checked: item.useraccess.hs_signatory,\n                      className: \"form-check-input\",\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 26\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        height: \"1.375rem\",\n                        width: \"1.375rem\",\n                        borderRadius: \".25em\",\n                        position: \"initial\",\n                        marginLeft: '0px'\n                      },\n                      type: \"checkbox\",\n                      checked: item.useraccess.add_user,\n                      className: \"form-check-input\",\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 26\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      style: {\n                        height: \"1.375rem\",\n                        width: \"1.375rem\",\n                        borderRadius: \".25em\",\n                        position: \"initial\",\n                        marginLeft: '0px'\n                      },\n                      type: \"checkbox\",\n                      checked: item.useraccess.audit,\n                      className: \"form-check-input\",\n                      disabled: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 26\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        cursor: \"pointer\",\n                        marginLeft: '-0.625rem',\n                        width: '37%'\n                      },\n                      onClick: add_user ? () => editdetails(item, i) : permission,\n                      alt: \"edit\",\n                      src: edit1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"switch\",\n                      style: {\n                        marginLeft: \"0.313rem\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        name: \"userdisable\",\n                        defaultChecked: item.is_active,\n                        onChange: add_user ? e => handleCheckboxSlider(e, item) : permission,\n                        disabled: add_user ? false : true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 418,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          marginBottom: \"-0.438rem\"\n                        },\n                        className: \"slider round\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 419,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 417,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 23\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 21\n                }, this), item.showDetails && renderEditForm(item.showDetails, i)]\n              }, void 0, true);\n            }), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 10,\n                children: /*#__PURE__*/_jsxDEV(Paginator, {\n                  first: offset,\n                  rows: limit,\n                  totalRecords: totalRecords,\n                  rowsPerPageOptions: [10, 20, 30],\n                  template: \"RowsPerPageDropdown CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink \",\n                  onPageChange: onPageChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n};\n\n_s(ManageUser, \"Mf2e0oPS+D0Dy1MPp3w74P1QDw4=\", false, function () {\n  return [useHistory];\n});\n\n_c = ManageUser;\nexport default ManageUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageUser\");","map":{"version":3,"sources":["/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/sidebar/ManageUser.tsx"],"names":["React","useEffect","useState","useHistory","axiosInstance","Select","Paginator","Toast","useRef","FadeLoader","css","AddNewUser","override","ManageUser","history","toast","initialFormData","Object","freeze","user","key_finder","service_request","inv_statements","quotes","hs_signatory","add_user","audit","initialFormData1","first_name","last_name","phone","formData","setFormData","formData1","setFormData1","addnewuser","setAddnewuser","offset","setOffset","limit","setLimit","totalRecords","setTotalRecords","currentuser","setCurrentuser","current_user_access","setCurrent_user_access","file_numbers","setFile_numbers","setAdd_user","selected","setSelected","loading","setLoading","data","setData","handleChange","event","Array","isArray","map","x","value","options","item","i","label","file_number","location","id","handleCheckboxChange","e","name","target","checked","handleInputChange","handleCheckboxSlider","useraccess","patch","headers","localStorage","getItem","then","res","is_active","current","show","severity","detail","editdetails","updatedData","obj","showDetails","onUpdate","preventDefault","put","method","node","status","fetchDataAsync","api","response","get","results","current_user","count","error","cancel","renderEditForm","height","border","overflowX","color","textAlign","marginTop","marginRight","marginLeft","width","save","padding","filter","includes","cursor","paddingLeft","paddingBottom","onPageChange","rows","first","permission","newuser","addnew","addToast","lastLoginDate","last_login","Date","toLocaleDateString","lastUpdatedDate","last_modified","fontSize","fontWeight","float","visibility","backgroundColor","email","borderRadius","position","edit1","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from '../../api/api';\nimport edit1 from '../icons/edit.svg';\nimport save from '../icons/floppy-disk.svg';\nimport Select from 'react-select';\nimport 'primereact/resources/themes/saga-blue/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport { Paginator } from 'primereact/paginator';\nimport { Toast } from 'primereact/toast';\nimport { useRef } from 'react';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport AddNewUser from './AddNewUser';\n\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nlet ManageUser =()=>{\n  let history = useHistory();\n  const toast: any = useRef();\n\n  const initialFormData = Object.freeze({\n        user:null,\n        key_finder:false,\n        service_request:false,\n        inv_statements:false,\n        quotes: false,\n        hs_signatory:false,\n        add_user:false,\n        audit:false,\n});\nconst initialFormData1 = Object.freeze({\n  first_name:\"\",\n  last_name:\"\",\n  phone:\"\",\n});\nconst [formData, setFormData]:any = useState(initialFormData);\nconst [formData1, setFormData1]:any = useState(initialFormData1);\n//const [file, setFile] = useState<any>([1]);\nconst [addnewuser, setAddnewuser] = useState<any>(false);\nconst [offset, setOffset] = useState<any>(0);\nconst [limit, setLimit] = useState<any>(10);\nconst [totalRecords, setTotalRecords] = useState<any>(0);\nconst [currentuser, setCurrentuser] = useState<any>([]);\nconst [current_user_access, setCurrent_user_access] = useState<any>({});\nconst [file_numbers,setFile_numbers] = useState<any>([]);\nconst [add_user, setAdd_user] = useState<any>([]);\nconst [selected, setSelected] = useState<any>([]);\nconst [loading, setLoading] = useState<any>(false);\n\n  const [data, setData] = useState<any>([]);\n // const [edit, setEdit] = useState(false);\n\n  const handleChange = (event:any) => {\n    setSelected(Array.isArray(event) ? event.map(x => x.value) : []);\n  };\n\n  const options = file_numbers.map((item: any,i: any)=>{ \n    return (\n    { label: item.file_number+\"-\"+item.location, value: item.id})\n     });\n\n  const handleCheckboxChange = (e: { target: { name: any; checked:any;} }) =>{\n    let name = e.target.name;\n    let checked = e.target.checked;\n    setFormData({...formData,[name]:checked});\n   };\n\n   const handleInputChange = (e: { target: { name: any; value: any; }; }) =>{\n    let name = e.target.name;\n    let value = e.target.value;\n    setFormData1({...formData1,[name]:value});\n    \n};\n\nconst handleCheckboxSlider = (e: { target: { name: any; checked:any;} },item:any) =>{\n    let id = item.useraccess.user;\n    axiosInstance\n      .patch(`/api/customer/manage/user/${id}/`,\n              { headers: {\"Authorization\" : `Bearer ${localStorage.getItem('access_token')}`} }\n            )\n\t\t\t.then((res) => {\n        if(res.data.data.is_active===false){\n          toast.current.show({severity: 'success', detail: 'User Disabled'});\n        }else {\n          toast.current.show({severity: 'success', detail: 'User Enabled'});\n        }\n        \n\t\t\t});\n};\n\n   \n  let editdetails=(item:any,id:any)=> {\n    const updatedData = data.map((obj:any,i:number)=>{\n      if(i===id){\n        obj.showDetails = true;\n      }else{\n        obj.showDetails = false;\n      }\n      return {...obj}\n      });\n    setData(updatedData);\n    setFormData({...formData,...item.useraccess});\n    setFormData1({...formData1,first_name:item.first_name,last_name:item.last_name,phone:item.phone,is_active:item.is_active});\n    //setFile(item.file_numbers);\n    setSelected(item.file_numbers);\n   }\n\n   const onUpdate = (e:any,id:any)=>{\n    e.preventDefault();\n    setLoading(true);\n    axiosInstance\n\t\t\t.put(`/api/customer/manage/user/${formData.user}/`, {\n                 first_name: formData1.first_name,\n                 last_name:formData1.last_name,\n                 phone: formData1.phone,\n                 file_numbers:selected,\n                 useraccess:\n                 {\n                  key_finder: formData.key_finder,\n                  service_request: formData.service_request,\n                  inv_statements:formData.inv_statements,\n                  quotes: formData.quotes,\n                  hs_signatory:formData.hs_signatory,\n                  add_user:formData.add_user,\n                  audit:formData.audit\n                } ,\n                method: \"put\"\n            },{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem('access_token')}`} }\n            )\n\t\t\t.then((res) => {\n        setLoading(false);\n        let node = toast.current;\n        if(res.data.status===200){\n          if(node){\n             node.show({severity: 'success',  detail: 'User Updated Successfully'});\n          }\n        const updatedData = data.map((obj:any,i:number)=>{\n          if(i===id){\n            obj.showDetails = false;\n            obj.first_name= formData1.first_name;\n            obj.last_name=formData1.last_name;\n            obj.phone= formData1.phone;\n            obj.file_numbers= selected;\n            obj.useraccess.key_finder= formData.key_finder;\n            obj.useraccess.service_request= formData.service_request;\n            obj.useraccess.inv_statements=formData.inv_statements;\n            obj.useraccess.quotes= formData.quotes;\n            obj.useraccess.hs_signatory=formData.hs_signatory;\n            obj.useraccess.add_user=formData.add_user;\n            obj.useraccess.audit=formData.audit;\n          }\n          return {...obj}\n        })\n        setData(updatedData);\n      }else {\n        setLoading(false);\n        if(node){\n           node.show({severity: 'error', detail: 'Wrong Details'});\n        }\n      }\n\t\t\t});\n\n   }\n   const fetchDataAsync = async (offset:any,limit:any) => {\n    try {\n        setLoading(true);\n        const api = `/api/customer/manage/user/?limit=${limit}&offset=${offset}`;\n        let response = await axiosInstance.get(api, { headers: {\"Authorization\" : `Bearer ${localStorage.getItem('access_token')}`} });\n        setData(response.data.results.data.map((obj:any)=>{\n          return({...obj, showDetails: false\n          })\n        }));\n        if(!(data===null)){\n          setLoading(false);\n        }\n        setFile_numbers(response.data.results.file_numbers);\n        setCurrentuser(response.data.results.current_user);\n        setCurrent_user_access(response.data.results.current_user_access);\n        setAdd_user(response.data.results.current_user_access.add_user)\n        setTotalRecords(response.data.count);\n        \n        return data;\n    }catch(error){\n      setLoading(false);\n        throw error;\n    }\n }   \n\n\n   useEffect(() =>{\n     fetchDataAsync(null,null);\n  },[]);\n\n \n  function cancel(id:any) {\n    const updatedData = data.map((obj:any,i:number)=>{\n        if(i===id){\n          obj.showDetails = false;\n        }\n        return {...obj}\n    })\n    setData(updatedData);\n    //setEdit(false);\n    //renderEditForm(data[id].showDetails,id);\n   }\n \n   let renderEditForm =(show:any,id:any)=>{\n     if(show){\n       return(\n         <>\n         <tr>\n           <td colSpan={10}>\n           <div className=\"content\" style={{height:\"23.18rem\",border:'1px solid #12739A',overflowX:'hidden'}}>\n          <div>\n          <div className=\"accordian\"> \n                    <div className=\"col-12\">\n                        <div className=\"row\">\n                                <div className=\"col-6\">\n                                    <p style={{color:\"#fff\",textAlign:\"left\",marginTop:\"0.625rem\"}}>Edit User Permissions</p>\n                                </div>\n                                <div className=\"col-6\">\n                                    <span className=\"detail-created\" onClick={(e)=>onUpdate(e,id)} ><img style={{marginRight:\".5rem\",marginLeft:'0.625rem',width:'1rem'}} alt=\"save\" src={save} />Save</span>\n                                    <span className=\"detail-created\" onClick={()=>cancel(id)} >Cancel</span>\n                                </div>\n                        </div>\n                    </div>\n            </div><br/>\n            \n            <div className=\"row\" style={{padding:\"1rem\"}}>\n                    <div className=\"col-4\">\n                        <input type=\"text\" name=\"first_name\" className=\"form-control\" placeholder=\"Enter First Name *\" value={formData1.first_name} onChange={handleInputChange}/>\n                    </div>\n                    <div className=\"col-4\">\n                        <input type=\"text\" name=\"last_name\" className=\"form-control\" placeholder=\"Enter Last Name *\" value={formData1.last_name} onChange={handleInputChange}/>\n                    </div>\n                    <div className=\"col-4\">\n                        <input type=\"text\" name='phone' className=\"form-control\" placeholder=\"Phone Number *\" value={formData1.phone} onChange={handleInputChange}/>\n                    </div>\n                    \n                </div>\n                <div className=\"col-4\">\n                          <Select\n                              className=\"dropdown\"\n                              placeholder=\"Select Option *\"\n                              value={options.filter((obj: { value: any; }) => selected.includes(obj.value))} // set selected values\n                              options={options} // set list of the data\n                              onChange={handleChange} // assign onChange function\n                              isMulti\n                              isClearable\n                          />\n                    </div>\n                <br></br>\n            <div className=\"form-check\">\n                    <div className=\"row\">\n                        <div className=\"col-4\">\n                            <input style={{height:\"1.375rem\",width:\"1.375rem\",cursor:'pointer'}} name=\"key_finder\"  className=\"form-check-input\" type=\"checkbox\" checked={formData.key_finder} onChange={handleCheckboxChange}  id=\"flexCheckDefault\" disabled={!current_user_access.key_finder}/>\n                            <label style={{paddingLeft:\"1.1em\"}} className=\"form-check-label\" >\n                            Manage Keys\n                            </label>\n                        </div>\n                        <div className=\"col-4\">\n                            <input style={{height:\"1.375rem\",width:\"1.375rem\",cursor:'pointer'}} name=\"service_request\"   className=\"form-check-input\" type=\"checkbox\" checked={formData.service_request} onChange={handleCheckboxChange}  id=\"flexCheckDefault6\" disabled={!current_user_access.service_request}/>\n                            <label style={{paddingLeft:\"1.1em\"}} className=\"form-check-label\" >\n                            Request Service\n                            </label>\n                        </div>\n                        <div className=\"col-4\">\n                            <input style={{height:\"1.375rem\",width:\"1.375rem\",cursor:'pointer'}} name=\"inv_statements\"  className=\"form-check-input\" type=\"checkbox\" checked={formData.inv_statements} onChange={handleCheckboxChange} id=\"flexCheckDefault1\" disabled={!current_user_access.inv_statements}/>\n                            <label style={{paddingLeft:\"1.1em\"}} className=\"form-check-label\" >\n                            Pay Bills\n                            </label>\n                        </div>\n                    </div><br></br>\n                    <div className=\"row\">\n                        <div className=\"col-4\">\n                            <input style={{height:\"1.375rem\",width:\"1.375rem\",cursor:'pointer'}} name=\"quotes\"   className=\"form-check-input\" type=\"checkbox\" checked={formData.quotes}  onChange={handleCheckboxChange} id=\"flexCheckDefault2\" disabled={!current_user_access.quotes}/>\n                            <label style={{paddingLeft:\"1.1em\"}} className=\"form-check-label\" >\n                            Accept Quotes\n                            </label>\n                        </div>\n                        <div className=\"col-4\">\n                            <input style={{height:\"1.375rem\",width:\"1.375rem\",cursor:'pointer'}} name=\"hs_signatory\"  className=\"form-check-input\" type=\"checkbox\" checked={formData.hs_signatory} onChange={handleCheckboxChange} id=\"flexCheckDefault3\" disabled={!current_user_access.hs_signatory}/>\n                            <label style={{paddingLeft:\"1.1em\"}} className=\"form-check-label\" >\n                            key Authorizers\n                            </label>\n                        </div>\n                    </div><br></br>\n                    <div className=\"row\" style={{paddingBottom:'1rem'}}>\n                        <div className=\"col-4\">\n                            <input style={{height:\"1.375rem\",width:\"1.375rem\",cursor:'pointer'}} name=\"add_user\"  className=\"form-check-input\" type=\"checkbox\" checked={formData.add_user} onChange={handleCheckboxChange} id=\"flexCheckDefault4\" disabled={!current_user_access.add_user}/>\n                            <label style={{paddingLeft:\"1.1em\"}} className=\"form-check-label\" >\n                            Users\n                            </label>\n                        </div>\n                        <div className=\"col-4\">\n                            <input style={{height:\"1.375rem\",width:\"1.375rem\",cursor:'pointer'}} name=\"audit\" className=\"form-check-input\" type=\"checkbox\" checked={formData.audit} onChange={handleCheckboxChange} id=\"flexCheckDefault5\" disabled={!current_user_access.audit}/>\n                            <label style={{paddingLeft:\"1.1em\"}} className=\"form-check-label\">\n                            Audit Trails\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                </div>\n                </div>\n           </td>\n         </tr>    \n        </>\n       )\n     }\n   }   \n\n   const onPageChange = (event:any) => {\n    setLimit(event.rows);\n    setOffset(event.first);\n    fetchDataAsync(event.first,event.rows);\n}\n\nconst permission = () =>{\n  toast.current.show({severity: 'error', detail:  `You don't have permission`});\n}\n\n  function newuser() {\n    setAddnewuser(true);\n  }\n\n  function addnew(){\n    setAddnewuser(false);\n  }\n\n  function addToast(){\n    fetchDataAsync(null,null);\n    toast.current.show({severity: 'success', detail: 'User Created'});\n  }\n\n  const lastLoginDate  = currentuser.last_login? new Date(currentuser.last_login).toLocaleDateString(): '';\n  const lastUpdatedDate = currentuser.last_modified? new Date(currentuser.last_modified).toLocaleDateString(): \"\";\n\n  \n\n      return (\n        <>\n           { addnewuser ? \n           <AddNewUser addnewuser={addnew} addtoast={addToast} permissions ={current_user_access}/>\n           :\n          <div>\n          \n             <Toast ref={toast} />\n\n            {loading ? <div className='overlay-box1'>\n                    <FadeLoader css={override} color={\"rgb(0, 158, 214)\"} loading={loading}  height={30} width={5} radius={2} margin={20} />\n                </div> :''}\n            <div className=\"upper1\" >\n                <div className=\"row\">\n                  <div style={{marginTop:\"0.625rem\",marginLeft:\"1.25rem\"}} className=\"col-6\">\n                      <p><span style={{color:\"#009DD0\",fontSize:\"1.5rem\"}}><span style={{fontWeight:\"bold\"}}>Welcome</span>  {currentuser.first_name} {currentuser.last_name}</span></p>\n                      <p> Your last log in was on :  <strong>{lastLoginDate}</strong></p>\n                      <p>Last Updated:  <strong>{lastUpdatedDate}</strong></p>\n                  </div>\n                  <div className=\"col-6\">\n                     <button onClick={newuser} style={add_user ? {fontWeight:\"lighter\",marginTop:\"-3.75rem\",float:\"right\",marginRight:\"-31.25rem\"}: {visibility:\"hidden\"}} className=\"btn btn-outline-danger\">+Add New User</button>\n                  </div>\n              </div>\n            </div>\n            <div className=\"content\" >\n              <table className=\"table\" >\n                  <thead style={{ color: \"#fff\",backgroundColor:\"#12739A\" }}>\n                    <tr>\n                      <th>User Name</th>\n                      <th style={{textAlign:\"center\"}}>Email ID</th>\n                      <th>Manage Keys</th>\n                      <th>Request Service</th>\n                      <th>Pay Bills</th>\n                      <th>Accept Quotes</th>\n                      <th>Key Authorizers</th>\n                      <th>Users</th>\n                      <th>Audit Trails</th>\n                      <th style={{textAlign:\"right\"}}>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  {data.map((item: any,i: any)=>{\n                  return(\n                    <>\n                    <tr key={i}>\n                      <td style={{textAlign:\"left\"}}>{item.first_name} {item.last_name}</td>\n                      <td >{item.email}</td>\n                      <td>\n                         <input style={{height:\"1.375rem\",width:\"1.375rem\", borderRadius:\".25em\",position:\"initial\",marginLeft:'0px'}}  type=\"checkbox\"  checked={item.useraccess.key_finder} className=\"form-check-input\" disabled/>\n                      </td>\n                      <td>\n                         <input style={{height:\"1.375rem\",width:\"1.375rem\", borderRadius:\".25em\",position:\"initial\",marginLeft:'0px'}}  type=\"checkbox\"  checked={item.useraccess.service_request} className=\"form-check-input\" disabled/>\n                      </td>\n                      <td>\n                         <input style={{height:\"1.375rem\",width:\"1.375rem\", borderRadius:\".25em\",position:\"initial\",marginLeft:'0px'}}  type=\"checkbox\"  checked={item.useraccess.inv_statements} className=\"form-check-input\" disabled/>\n                      </td>\n                      <td>\n                         <input style={{height:\"1.375rem\",width:\"1.375rem\", borderRadius:\".25em\",position:\"initial\",marginLeft:'0px'}}  type=\"checkbox\"  checked={item.useraccess.quotes} className=\"form-check-input\" disabled/>\n                      </td>\n                      <td>\n                         <input style={{height:\"1.375rem\",width:\"1.375rem\", borderRadius:\".25em\",position:\"initial\",marginLeft:'0px'}}  type=\"checkbox\"  checked={item.useraccess.hs_signatory} className=\"form-check-input\" disabled/>\n                      </td>\n                      <td>\n                         <input style={{height:\"1.375rem\",width:\"1.375rem\", borderRadius:\".25em\",position:\"initial\",marginLeft:'0px'}}  type=\"checkbox\"  checked={item.useraccess.add_user} className=\"form-check-input\" disabled/>\n                      </td>\n                      <td>\n                         <input style={{height:\"1.375rem\",width:\"1.375rem\", borderRadius:\".25em\",position:\"initial\",marginLeft:'0px'}}  type=\"checkbox\"  checked={item.useraccess.audit} className=\"form-check-input\" disabled/>\n                      </td>\n                      <td>\n                      <img style={{cursor:\"pointer\",marginLeft:'-0.625rem',width:'37%'}} onClick={add_user ? ()=>editdetails(item,i) : permission} alt=\"edit\" src={edit1} />\n                      <label className=\"switch\" style={{marginLeft:\"0.313rem\"}}>\n                          <input type=\"checkbox\" name=\"userdisable\"  defaultChecked={item.is_active} onChange={add_user ? (e)=>handleCheckboxSlider(e,item): permission} disabled={add_user ? false :true}/>\n                          <span style={{marginBottom:\"-0.438rem\"}} className=\"slider round\"></span>\n                        </label>\n                      </td>\n                    </tr>\n                       \n                      {item.showDetails && \n                      renderEditForm(item.showDetails,i)}\n                    </>\n                    )})}\n                    <tr>\n                    <td colSpan={10}>\n                      <Paginator first={offset} rows={limit} totalRecords={totalRecords} rowsPerPageOptions={[10, 20, 30]} \n                      template=\"RowsPerPageDropdown CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink \"\n                      onPageChange={onPageChange}></Paginator>\n                    </td>\n                  </tr>\n                  </tbody>\n                  \n                </table> \n                \n                \n                <div>\n            </div>\n          </div>\n         \n          </div>\n}\n        </>\n      );\n    }\n\n\nexport default ManageUser;  "]},"metadata":{},"sourceType":"module"}