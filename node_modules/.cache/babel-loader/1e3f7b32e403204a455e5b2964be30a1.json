{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/sidebar/ViewKeysDetails.tsx\";\nimport React from 'react';\nimport brokenkey from \"../icons/BrokenKey.svg\";\nimport questionmark from \"../icons/questionmark.svg\";\nimport edit1 from \"../icons/edit.svg\";\nimport 'jspdf-autotable';\nimport tick from \"../icons/tick.svg\";\nimport cross from \"../icons/cross.svg\";\nimport axiosInstance from '../../api/api';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport { Toast } from 'primereact/toast';\nimport { Calendar } from 'primereact/calendar';\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nclass ViewKeysDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toast = void 0;\n\n    this.handleInputChange = e => {\n      let name = e.target.name;\n      let value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleCheckboxSlider = (e, item, id) => {\n      this.setState({\n        lost_key: item.lost_key,\n        broken_key: item.broken_key\n      });\n      let name = e.target.name;\n      let value = e.target.checked;\n      let lost_key = null;\n      let broken_key = null;\n\n      if (name === 'lost_key') {\n        lost_key = value;\n        broken_key = item.broken_key;\n      } else {\n        lost_key = item.lost_key;\n        broken_key = value;\n      }\n\n      const updateCheck = this.state.data.map((obj, i) => {\n        if (id === i) {\n          obj.lost_key = lost_key;\n          obj.broken_key = broken_key;\n        }\n\n        return { ...obj\n        };\n      });\n      this.setState({\n        data: updateCheck\n      });\n      this.setState({\n        [e.target.name]: e.target.checked\n      });\n      this.props.loadc();\n      axiosInstance.patch(`/api/kdfinder/sequence/${item.id}/`, {\n        lost_key: lost_key,\n        broken_key: broken_key\n      }, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('access_token')}`\n        }\n      }).then(res => {\n        if (res.data.status === 200) {\n          this.toast.current.show({\n            severity: 'success',\n            detail: 'Updated successfully'\n          });\n          this.props.load();\n        } else {\n          this.toast.current.show({\n            severity: 'error',\n            detail: 'Not Updated'\n          });\n          this.props.load();\n        }\n      });\n    };\n\n    this.onUpdate = (e, id) => {\n      e.preventDefault(); // this.setState({loading:true});\n\n      this.props.loadc();\n      axiosInstance.put(`/api/kdfinder/sequence/${id}/`, {\n        tenant_location: this.state.tenant_location,\n        key_holder: this.state.key_holder,\n        phone: this.state.phone,\n        email: this.state.email,\n        date_issued: this.state.date_issued\n      }, {\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem('access_token')}`\n        }\n      }).then(res => {\n        //alert(\"done\")\n        if (res.data.status === 200) {\n          this.setState({\n            loading: false\n          });\n          this.props.load();\n          this.toast.current.show({\n            severity: 'success',\n            detail: 'Updated successfully'\n          });\n          const updatedData = this.state.data.map((obj, i) => {\n            if (obj.id === id) {\n              obj.tenant_location = this.state.tenant_location;\n              obj.key_holder = this.state.key_holder;\n              obj.phone = this.state.phone;\n              obj.email = this.state.email;\n              obj.date_issued = this.state.date_issued;\n              obj.editData = false;\n            }\n\n            return { ...obj\n            };\n          });\n          this.setState({\n            data: updatedData\n          });\n        } else {\n          this.setState({\n            loading: false\n          });\n          this.toast.current.show({\n            severity: 'error',\n            detail: 'Not Updated'\n          });\n        }\n      });\n    };\n\n    this.onEdit = id => {\n      this.setState({\n        data: this.state.data.map((obj, i) => {\n          if (i === id) {\n            obj.editData = true;\n          } else {\n            obj.editData = false;\n          }\n\n          return { ...obj\n          };\n        })\n      });\n      this.setState({\n        tenant_location: this.state.data[id].tenant_location,\n        key_holder: this.state.data[id].key_holder,\n        phone: this.state.data[id].phone,\n        email: this.state.data[id].email,\n        date_issued: this.state.data[id].date_issued\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.props.load();\n      this.setState({\n        data: this.props.viewdata.map(obj => {\n          return { ...obj,\n            editData: false\n          };\n        })\n      });\n    };\n\n    this.onCancel = id => {\n      this.setState({\n        data: this.state.data.map((obj, i) => {\n          if (i === id) {\n            obj.editData = false;\n          }\n\n          return { ...obj\n          };\n        })\n      });\n    };\n\n    this.toast = /*#__PURE__*/React.createRef();\n    this.state = {\n      edit: false,\n      data: [],\n      tenant_location: \"\",\n      key_holder: '',\n      phone: '',\n      email: '',\n      date_issued: '',\n      lost_key: '',\n      broken_key: '',\n      loading: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Toast, {\n        ref: this.toast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 12\n      }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay-box1\",\n        children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n          css: override,\n          color: \"rgb(0, 158, 214)\",\n          loading: this.state.loading,\n          height: 30,\n          width: 5,\n          radius: 2,\n          margin: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 34\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          style: {\n            border: '2px solid #12739A'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontWeight: 500,\n                  margin: 0,\n                  width: \"6.65rem\"\n                },\n                scope: \"col\",\n                children: \"Key ID Stamp\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontWeight: 500,\n                  margin: 0,\n                  width: \"6.65rem\"\n                },\n                scope: \"col\",\n                children: \"Tenant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontWeight: 500,\n                  margin: 0,\n                  width: \"6.65rem\"\n                },\n                scope: \"col\",\n                children: \"First/Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontWeight: 500,\n                  margin: 0,\n                  width: \"6.65rem\"\n                },\n                scope: \"col\",\n                children: \"Phone \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontWeight: 500,\n                  margin: 0,\n                  width: \"6.65rem\"\n                },\n                scope: \"col\",\n                children: \"Email ID \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontWeight: 500,\n                  margin: 0,\n                  width: \"6.65rem\"\n                },\n                scope: \"col\",\n                children: \"Issue Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontWeight: 500,\n                  textAlign: \"right\",\n                  margin: 0,\n                  width: \"6.65rem\"\n                },\n                scope: \"col\",\n                children: \"Edit Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  fontWeight: 500,\n                  textAlign: 'center',\n                  margin: 0,\n                  width: \"6.65rem\"\n                },\n                scope: \"col\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.data.map((item, i) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    margin: 0,\n                    width: \"6.65rem\"\n                  },\n                  scope: \"row\",\n                  children: item.key_id + \" - \" + item.sequence\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    margin: 0,\n                    width: \"7.65rem\"\n                  },\n                  children: item.editData ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    style: {\n                      height: '2rem',\n                      width: \"7.65rem\",\n                      padding: '.5rem',\n                      margin: 0\n                    },\n                    type: \"text\",\n                    className: \"form-control\",\n                    name: \"tenant_location\",\n                    value: this.state.tenant_location,\n                    onChange: this.handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 73\n                  }, this) : item.tenant_location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    margin: 0,\n                    width: \"7.65rem\"\n                  },\n                  children: item.editData ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    style: {\n                      height: '2rem',\n                      width: \"7.65rem\",\n                      padding: '.5rem',\n                      margin: 0\n                    },\n                    type: \"text\",\n                    className: \"form-control\",\n                    name: \"key_holder\",\n                    value: this.state.key_holder,\n                    onChange: this.handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 73\n                  }, this) : item.key_holder\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    margin: 0,\n                    width: \"7.65rem\"\n                  },\n                  children: item.editData ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    style: {\n                      height: '2rem',\n                      width: \"7.65rem\",\n                      padding: '.5rem',\n                      margin: 0\n                    },\n                    type: \"text\",\n                    className: \"form-control\",\n                    name: \"phone\",\n                    value: this.state.phone,\n                    onChange: this.handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 73\n                  }, this) : item.phone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    margin: 0,\n                    width: \"7.65rem\"\n                  },\n                  children: item.editData ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    style: {\n                      height: '2rem',\n                      width: \"7.65rem\",\n                      padding: '.5rem',\n                      margin: 0\n                    },\n                    type: \"text\",\n                    className: \"form-control\",\n                    name: \"email\",\n                    value: this.state.email,\n                    onChange: this.handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 73\n                  }, this) : item.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    margin: 0,\n                    width: \"7.65rem\"\n                  },\n                  children: item.editData ? /*#__PURE__*/_jsxDEV(Calendar, {\n                    style: {\n                      height: '2rem',\n                      width: \"7.65rem\",\n                      padding: 0,\n                      margin: 0\n                    },\n                    id: \"date_issued\",\n                    placeholder: \"YYYY-MM-DD\",\n                    value: this.state.date_issued,\n                    onChange: e => this.setState({\n                      date_issued: e.value.toLocaleDateString(\"fr-CA\")\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 73\n                  }, this) : item.date_issued\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: \"center\",\n                    margin: 0,\n                    width: \"6.65rem\"\n                  },\n                  children: item.editData ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        cursor: \"pointer\",\n                        width: \"0.75rem\",\n                        height: \"0.75rem\",\n                        marginRight: \"1.25rem\"\n                      },\n                      onClick: () => this.onCancel(i),\n                      alt: \"cross\",\n                      src: cross\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 98\n                    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        cursor: \"pointer\",\n                        width: \"1rem\",\n                        height: \"1rem\"\n                      },\n                      onClick: e => this.onUpdate(e, item.id),\n                      alt: \"tick\",\n                      src: tick\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 242\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 92\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                      style: {\n                        cursor: \"pointer\",\n                        width: '1.3rem'\n                      },\n                      onClick: () => this.onEdit(i),\n                      alt: \"edit\",\n                      src: edit1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 381\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 374\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    margin: 0,\n                    textAlign: \"right\",\n                    width: '6rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    style: {\n                      height: \"1.375rem\",\n                      width: \"1.375rem\",\n                      borderRadius: \".25em\",\n                      display: \"inline-block\",\n                      position: \"initial\",\n                      cursor: 'pointer',\n                      marginLeft: '-2rem'\n                    },\n                    type: \"checkbox\",\n                    className: \"form-check-input\",\n                    name: \"lost_key\",\n                    defaultChecked: item.lost_key,\n                    onChange: e => this.handleCheckboxSlider(e, item, i)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"viewkeys\",\n                    style: {\n                      marginLeft: \"0.6rem\",\n                      width: '0.4rem'\n                    },\n                    src: questionmark\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    style: {\n                      height: \"1.375rem\",\n                      width: \"1.375rem\",\n                      marginLeft: \".8rem\",\n                      display: \"inline-block\",\n                      borderRadius: \".25em\",\n                      position: \"initial\",\n                      cursor: 'pointer'\n                    },\n                    className: \"form-check-input\",\n                    type: \"checkbox\",\n                    name: \"broken_key\",\n                    defaultChecked: item.broken_key,\n                    onChange: e => this.handleCheckboxSlider(e, item, i)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 20\n                  }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"viewkeys\",\n                    style: {\n                      marginLeft: \"0.6rem\",\n                      width: '0.8rem'\n                    },\n                    src: brokenkey\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 20\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 17\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 15\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default ViewKeysDetails;","map":{"version":3,"sources":["/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/sidebar/ViewKeysDetails.tsx"],"names":["React","axiosInstance","FadeLoader","css","Toast","Calendar","override","ViewKeysDetails","Component","constructor","props","toast","handleInputChange","e","name","target","value","setState","handleCheckboxSlider","item","id","lost_key","broken_key","checked","updateCheck","state","data","map","obj","i","loadc","patch","headers","localStorage","getItem","then","res","status","current","show","severity","detail","load","onUpdate","preventDefault","put","tenant_location","key_holder","phone","email","date_issued","loading","updatedData","editData","onEdit","componentDidMount","viewdata","onCancel","createRef","edit","render","border","fontWeight","margin","width","textAlign","key_id","sequence","height","padding","toLocaleDateString","cursor","marginRight","cross","tick","edit1","borderRadius","display","position","marginLeft","questionmark","brokenkey"],"mappings":"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","sourcesContent":["import React from 'react';\nimport brokenkey from '../icons/BrokenKey.svg';\nimport questionmark from '../icons/questionmark.svg';\nimport edit1 from '../icons/edit.svg';\nimport 'jspdf-autotable';\nimport tick from '../icons/tick.svg';\nimport cross from '../icons/cross.svg';\nimport axiosInstance from '../../api/api';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport { Toast } from 'primereact/toast';\nimport { Calendar } from 'primereact/calendar';\n\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\ninterface Props{\n  edit:boolean;\n  data:any;\n  [key :string]:any;\n  loading : boolean;\n}\n\n\nclass ViewKeysDetails extends React.Component<{viewdata:any,load:any,loadc:any},Props> {\n  toast: React.RefObject<any>;\n\n  constructor(props:any){\n    super(props);\n    this.toast = React.createRef();\n    this.state={\n      edit:false,\n      data:[],\n      tenant_location:\"\",\n      key_holder:'',\n      phone:'',\n      email:'',\n      date_issued:'',\n      lost_key:'',\n      broken_key:'',\n      loading:false\n    }\n  }\n  \n  handleInputChange = (e: { target: { name: any; value: any; }; }) =>{\n    let name = e.target.name;\n    let value = e.target.value;\n    this.setState({[name]:value});\n};\n\n  handleCheckboxSlider = (e: { target: { name: any; checked:any;} },item:any,id:any) =>{\n    this.setState({lost_key : item.lost_key,broken_key: item.broken_key});\n    let name = e.target.name;\n    let value= e.target.checked;\n    let lost_key:any = null;\n    let broken_key:any = null;\n    if(name==='lost_key'){\n       lost_key = value;\n       broken_key= item.broken_key;\n    }else {\n       lost_key = item.lost_key;\n       broken_key= value;\n    }\n\n    const updateCheck = this.state.data.map((obj:any,i:any)=>{\n      if(id===i){\n        obj.lost_key= lost_key;\n        obj.broken_key= broken_key;\n      }\n      return {...obj}\n    })\n    this.setState({data: updateCheck});\n    \n    this.setState({[e.target.name]:e.target.checked});\n    this.props.loadc();\n    axiosInstance\n      .patch(`/api/kdfinder/sequence/${item.id}/`,{\n        lost_key: lost_key,\n        broken_key: broken_key,\n            },\n              { headers: {\"Authorization\" : `Bearer ${localStorage.getItem('access_token')}`} }\n            )\n\t\t\t.then((res) => {\n        if(res.data.status===200){\n          this.toast.current.show({severity: 'success',  detail: 'Updated successfully'});\n          this.props.load();\n        }else {\n          this.toast.current.show({severity: 'error',  detail: 'Not Updated'});\n          this.props.load();\n        }\n \t\t\t});\n};\n\n onUpdate = (e:any,id:any)=>{\n  e.preventDefault();\n // this.setState({loading:true});\n this.props.loadc();\n  axiosInstance\n    .put(`/api/kdfinder/sequence/${id}/`, {\n             tenant_location : this.state.tenant_location,\n             key_holder : this.state.key_holder,\n             phone : this.state.phone,\n             email : this.state.email,\n             date_issued : this.state.date_issued\n          },{ headers: {\"Authorization\" : `Bearer ${localStorage.getItem('access_token')}`} }\n          )\n    .then((res) => {\n      //alert(\"done\")\n      if(res.data.status===200){\n        this.setState({loading:false});\n        this.props.load();\n        this.toast.current.show({severity: 'success',  detail: 'Updated successfully'});\n      const updatedData = this.state.data.map((obj:any,i:number)=>{\n        if(obj.id===id){\n          obj.tenant_location = this.state.tenant_location;\n          obj.key_holder = this.state.key_holder;\n          obj.phone = this.state.phone;\n          obj.email = this.state.email;\n          obj.date_issued = this.state.date_issued;\n          obj.editData = false;\n        }\n        return {...obj}\n      })\n      this.setState({data :updatedData});\n      \n    }else {\n      this.setState({loading:false});\n      this.toast.current.show({severity: 'error',  detail: 'Not Updated'});\n    }\n    }); \n\n }\n\n  onEdit= (id:any)=>{\n     this.setState({data: this.state.data.map((obj:any,i:number)=>{\n      if(i===id){\n        obj.editData = true;\n      }else{\n        obj.editData = false;\n      }\n      return {...obj}\n      })});\n      this.setState({tenant_location: this.state.data[id].tenant_location,\n        key_holder: this.state.data[id].key_holder,\n        phone: this.state.data[id].phone,\n        email: this.state.data[id].email,\n        date_issued: this.state.data[id].date_issued,\n      })\n  };\n\n  componentDidMount=()=>{\n    this.props.load();\n    this.setState({data : this.props.viewdata.map((obj:any)=>{\n      return({...obj, editData: false\n      })\n    })});\n  };\n\n  onCancel =(id:any)=>{\n    this.setState({data: this.state.data.map((obj:any,i:number)=>{\n      if(i===id){\n        obj.editData = false;\n      }\n      return {...obj}\n    })\n  })\n    \n  }\n\n    render() {\n      return (\n          <>\n           <Toast ref={this.toast} />\n          {\n            this.state.loading ? <div className='overlay-box1'>\n            <FadeLoader css={override} color={\"rgb(0, 158, 214)\"} loading={this.state.loading}  height={30} width={5} radius={2} margin={20} />\n        </div> :''\n          }\n            <div>\n          <table className=\"table\" style={{border :'2px solid #12739A'}} >\n            <thead >\n              <tr>\n                <th style={{fontWeight:500,margin:0,width:\"6.65rem\"}} scope=\"col\">Key ID Stamp</th>\n                <th style={{fontWeight:500,margin:0,width:\"6.65rem\"}} scope=\"col\">Tenant</th>\n                <th style={{fontWeight:500,margin:0,width:\"6.65rem\"}} scope=\"col\">First/Last Name</th>\n                <th style={{fontWeight:500,margin:0,width:\"6.65rem\"}} scope=\"col\">Phone </th>\n                <th style={{fontWeight:500,margin:0,width:\"6.65rem\"}} scope=\"col\">Email ID </th>\n                <th style={{fontWeight:500,margin:0,width:\"6.65rem\"}} scope=\"col\">Issue Date</th>\n                <th style={{fontWeight:500,textAlign:\"right\",margin:0,width:\"6.65rem\"}} scope=\"col\">Edit Data</th>\n                <th style={{fontWeight:500,textAlign:'center',margin:0,width:\"6.65rem\"}} scope=\"col\">Actions</th>\n              </tr>\n            </thead>\n            <tbody >\n            {this.state.data.map((item: any,i: any)=>{\n             return(\n              <tr key={i}>\n                <th style={{margin:0,width:\"6.65rem\"}} scope=\"row\">{item.key_id +\" - \"+ item.sequence}</th>\n                <td style={{margin:0,width:\"7.65rem\"}}>{item.editData ? <input style={{height:'2rem',width:\"7.65rem\",padding:'.5rem',margin:0}} type=\"text\" className=\"form-control\" name=\"tenant_location\" value={this.state.tenant_location} onChange={this.handleInputChange}  /> : item.tenant_location}</td>\n                <td style={{margin:0,width:\"7.65rem\"}}>{item.editData ? <input style={{height:'2rem',width:\"7.65rem\",padding:'.5rem',margin:0}} type=\"text\" className=\"form-control\" name=\"key_holder\" value={this.state.key_holder} onChange={this.handleInputChange}   /> : item.key_holder}</td>\n                <td style={{margin:0,width:\"7.65rem\"}}>{item.editData ? <input style={{height:'2rem',width:\"7.65rem\",padding:'.5rem',margin:0}} type=\"text\" className=\"form-control\" name=\"phone\" value={this.state.phone} onChange={this.handleInputChange}   /> : item.phone}</td>\n                <td style={{margin:0,width:\"7.65rem\"}}>{item.editData ? <input style={{height:'2rem',width:\"7.65rem\",padding:'.5rem',margin:0}} type=\"text\" className=\"form-control\" name=\"email\" value={this.state.email} onChange={this.handleInputChange}  /> : item.email}</td>\n                <td style={{margin:0,width:\"7.65rem\"}}>{item.editData ? <Calendar style={{height:'2rem',width:\"7.65rem\",padding:0,margin:0}} id=\"date_issued\" placeholder=\"YYYY-MM-DD\" value={this.state.date_issued} onChange={(e:any) => this.setState({date_issued:e.value.toLocaleDateString(\"fr-CA\")})}/> : item.date_issued}</td>\n                <td style={{textAlign:\"center\",margin:0,width:\"6.65rem\"}}>{item.editData ? <span><img style={{cursor:\"pointer\",width:\"0.75rem\",height:\"0.75rem\",marginRight:\"1.25rem\"}} onClick={()=>this.onCancel(i)} alt=\"cross\" src={cross} /><img style={{cursor:\"pointer\",width:\"1rem\",height:\"1rem\"}} onClick={(e)=>this.onUpdate(e,item.id)} alt=\"tick\" src={tick} /></span>: <span> <img style={{cursor:\"pointer\",width:'1.3rem'}} onClick={()=>this.onEdit(i)} alt=\"edit\" src={edit1} /></span>}</td>\n                <td style={{margin:0,textAlign:\"right\",width:'6rem'}}>\n                   <input style={{height:\"1.375rem\",width:\"1.375rem\", borderRadius:\".25em\",display:\"inline-block\",position:\"initial\",cursor:'pointer',marginLeft:'-2rem'}}  type=\"checkbox\" className=\"form-check-input\" name=\"lost_key\" defaultChecked={item.lost_key} onChange={(e)=>this.handleCheckboxSlider(e,item,i)}/>\n                   <img alt=\"viewkeys\" style={{marginLeft:\"0.6rem\",width:'0.4rem'}} src={questionmark}/>\n                   <input style={{height:\"1.375rem\",width:\"1.375rem\",marginLeft:\".8rem\",display:\"inline-block\",borderRadius:\".25em\",position:\"initial\",cursor:'pointer'}} className=\"form-check-input\" type=\"checkbox\" name=\"broken_key\" defaultChecked={item.broken_key} onChange={(e)=>this.handleCheckboxSlider(e,item,i)}/>\n                   <img alt=\"viewkeys\" style={{marginLeft:\"0.6rem\",width:'0.8rem'}} src={brokenkey}/>\n                </td>\n              </tr>\n              )})}\n            </tbody>\n          </table>\n          </div>\n          </>\n      );\n    }\n  }\n\nexport default ViewKeysDetails;  "]},"metadata":{},"sourceType":"module"}