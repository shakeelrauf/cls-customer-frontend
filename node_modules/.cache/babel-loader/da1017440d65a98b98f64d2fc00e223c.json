{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/login/Forget.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from '../../api/api';\nimport { Toast } from 'primereact/toast';\nimport { useRef } from 'react';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nconst validEmailRegex = RegExp(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nlet Forget = () => {\n  _s();\n\n  let history = useHistory();\n  const toast = useRef(null);\n  const initialFormData = Object.freeze({\n    email: ''\n  });\n  const [formData, setFormData] = useState(initialFormData);\n  const [loading, setLoading] = useState(false);\n\n  const handleInputChange = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n    setFormData({ ...formData,\n      [name]: value\n    });\n  };\n\n  const formValidation = () => {\n    let isValid = true;\n\n    if (formData.email === '') {\n      toast.current.show({\n        severity: 'error',\n        detail: \"Please enter a email address\"\n      });\n      isValid = false;\n    } else if (!validEmailRegex.test(formData.email)) {\n      toast.current.show({\n        severity: 'error',\n        detail: \"Please enter a valid email address\"\n      });\n      isValid = false;\n    }\n\n    return isValid;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let isValid = formValidation();\n\n    if (isValid) {\n      setLoading(true);\n\n      try {\n        axiosInstance.post(`/api/customer/reset/password/`, {\n          email: formData.email\n        }).then(res => {\n          setLoading(false);\n\n          if (res.data.status === 200) {\n            toast.current.show({\n              severity: 'success',\n              detail: 'Mail sent'\n            });\n            setFormData({ ...formData,\n              email: ''\n            });\n          } else {\n            toast.current.show({\n              severity: 'error',\n              detail: 'The Email address is not registered to an account'\n            });\n          }\n        }).catch(error => {\n          toast.current.show({\n            severity: 'error',\n            detail: 'Error'\n          });\n          setLoading(false);\n        });\n      } catch (error) {\n        throw error;\n      }\n    }\n  };\n\n  function login() {\n    history.push(`/`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay-box1\",\n        style: {\n          margin: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n          css: override,\n          color: \"rgb(0, 158, 214)\",\n          loading: loading,\n          height: 30,\n          width: 5,\n          radius: 2,\n          margin: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 23\n      }, this) : '', /*#__PURE__*/_jsxDEV(Toast, {\n        ref: toast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center own-login-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          style: {\n            marginTop: \"100px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontSize: \"1.875rem\",\n                textAlign: \"center\",\n                marginBottom: \"1.563rem\"\n              },\n              children: \"Forgot your Password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontSize: \"1.125rem\",\n                textAlign: \"center\",\n                marginBottom: \"1.563rem\"\n              },\n              children: \"Confirm your email and we'll send the Instructions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"email\",\n                style: {\n                  width: \"22rem\",\n                  height: \"2.5rem\",\n                  marginLeft: '.5rem'\n                },\n                className: \"form-control\",\n                placeholder: \"Email ID *\",\n                value: formData.email,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                style: {\n                  width: \"22rem\",\n                  height: \"2.5rem\",\n                  backgroundColor: \"#009ED6\",\n                  borderColor: \"#009ED6\"\n                },\n                className: \"btn btn-primary\",\n                type: \"submit\",\n                children: \"Reset Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"create\",\n              onClick: login,\n              style: {\n                marginLeft: \"16.25rem\",\n                marginTop: \"-2rem\",\n                fontSize: \"1rem\",\n                color: \"#009ED6\",\n                fontWeight: \"bold\"\n              },\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 10\n    }, this)\n  }, void 0, false);\n};\n\n_s(Forget, \"eBEIeUClngd+WAEVAJ7IKlzRoSI=\", false, function () {\n  return [useHistory];\n});\n\n_c = Forget;\nexport default Forget;\n\nvar _c;\n\n$RefreshReg$(_c, \"Forget\");","map":{"version":3,"sources":["/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/login/Forget.tsx"],"names":["useState","useHistory","axiosInstance","Toast","useRef","FadeLoader","css","validEmailRegex","RegExp","override","Forget","history","toast","initialFormData","Object","freeze","email","formData","setFormData","loading","setLoading","handleInputChange","e","name","target","value","formValidation","isValid","current","show","severity","detail","test","handleSubmit","preventDefault","post","then","res","data","status","catch","error","login","push","margin","marginTop","fontSize","textAlign","marginBottom","width","height","marginLeft","backgroundColor","borderColor","color","fontWeight"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {baseURL} from '../../api/api';\nimport axiosInstance from '../../api/api';\nimport { Toast } from 'primereact/toast';\nimport { useRef } from 'react';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\n\nconst validEmailRegex = RegExp(\n    /^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i\n  );\n\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nlet Forget = () =>{\n    let history = useHistory();\n    const toast:any = useRef(null);\n    const initialFormData = Object.freeze({\n\t\temail: '',\n    });\n    const [formData, setFormData] = useState(initialFormData);\n    const [loading, setLoading] = useState(false);\n\n    const handleInputChange = (e: { target: { name: any; value: any; }; }) =>{\n        let name = e.target.name;\n        let value = e.target.value;\n        setFormData({...formData,[name]:value});\n    };\n\n    const formValidation = () =>{\n        let isValid = true;\n        if(formData.email === ''){\n                toast.current.show({severity: 'error', detail: \"Please enter a email address\"});\n            isValid = false;\n         }else\n         if(!validEmailRegex.test(formData.email)){\n            toast.current.show({severity: 'error', detail: \"Please enter a valid email address\"});\n            isValid = false ;\n        }\n        return isValid\n    }\n\n    const handleSubmit = (e:any) => {\n        e.preventDefault();\n        let isValid = formValidation();\n        if(isValid){\n        setLoading(true);\n        try{\n            axiosInstance\n\t\t\t.post(`/api/customer/reset/password/`, {\n\t\t\t\temail: formData.email,\n\t\t\t})\n\t\t\t.then((res) => {\n                setLoading(false);\n                if(res.data.status === 200){\n                toast.current.show({severity: 'success', detail: 'Mail sent'});\n                 setFormData({...formData, email:'' });\n               }else {\n                toast.current.show({severity: 'error', detail: 'The Email address is not registered to an account'});\n               }\n            })\n            .catch((error)=>{\n                toast.current.show({severity: 'error', detail: 'Error'});\n                setLoading(false);\n            })\n        }catch(error){\n            throw error;\n        }\n    }\n    }\n\n    function login() {\n        history.push(`/`);\n       }\n    return(\n        <>\n         <div >\n         {\n            loading ? <div className='overlay-box1' style={{margin:0}}>\n            <FadeLoader css={override} color={\"rgb(0, 158, 214)\"} loading={loading}  height={30} width={5} radius={2} margin={20} />\n         </div> :''\n        }\n         <Toast ref={toast} />\n            <div className=\"d-flex justify-content-center own-login-container\">\n            <form onSubmit={handleSubmit}  style={{marginTop:\"100px\"}}> \n                <div>\n                  <label style={{fontSize:\"1.875rem\",textAlign:\"center\",marginBottom:\"1.563rem\"}}>Forgot your Password?</label>\n                </div>\n                <div>\n                  <label style={{fontSize:\"1.125rem\",textAlign:\"center\",marginBottom:\"1.563rem\"}}>Confirm your email and we'll send the Instructions</label>\n                </div>\n                <div className=\"form-group\">\n                    <div className=\"col\">\n                        <input  name=\"email\" style={{width:\"22rem\",height:\"2.5rem\",marginLeft:'.5rem'}} className=\"form-control\"  placeholder=\"Email ID *\" value={formData.email} onChange={handleInputChange}/>\n                    </div><br></br>\n                    <div className=\"col\">\n                        <button style={{width:\"22rem\",height:\"2.5rem\",backgroundColor:\"#009ED6\",borderColor:\"#009ED6\"}} className=\"btn btn-primary\" type=\"submit\">Reset Password</button>\n                    </div>\n                </div>\n                <div > \n                    <label className=\"create\" onClick={login}  style={{marginLeft:\"16.25rem\",marginTop:\"-2rem\",fontSize:\"1rem\",color:\"#009ED6\",fontWeight:\"bold\"}}>\n                       Login \n                    </label>\n                </div>\n            </form>\n            </div>\n            </div> \n        </>\n    )\n}\nexport default Forget;"]},"metadata":{},"sourceType":"module"}