{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mac/Desktop/customer_portal_cls/frontend/src/component/login/CreateAccount.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance from '../../api/api';\nimport './Login.css';\nimport { Toast } from 'primereact/toast';\nimport { useRef } from 'react';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport ReactTooltip from 'react-tooltip';\nimport info from \"../icons/info.svg\";\nconst validEmailRegex = RegExp(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-right:-18%;\n`;\n\nlet CreateAccount = () => {\n  _s();\n\n  let history = useHistory();\n  const toast = useRef(null);\n  const initialFormData = Object.freeze({\n    accountnumber: '',\n    email: '',\n    confirm_email: '',\n    firstname: '',\n    lastname: '',\n    phonenumber: '',\n    password: ''\n  });\n  const [formData, setFormData] = useState(initialFormData);\n  const [loading, setLoading] = useState(false);\n\n  const handleInputChange = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n    setFormData({ ...formData,\n      [name]: value\n    });\n  };\n\n  const formValidation = () => {\n    let isValid = true;\n    const node = toast.current;\n    let numbers = /[0-9]/g;\n    let lowerCaseLetters = /[a-z]/g;\n    let upperCaseLetters = /[A-Z]/g;\n    let specialcharacter = /[!+@#\\$%\\^&\\*]/g;\n    let reWhiteSpace = new RegExp(/^\\s+$/);\n    debugger;\n\n    if (formData.accountnumber === '' || formData.email === '' || formData.firstname === '' || formData.lastname === '' || formData.phonenumber === '' || formData.password === '') {\n      if (node) {\n        node.show({\n          severity: 'error',\n          detail: \"Please Enter all fields\"\n        });\n      }\n\n      isValid = false;\n    } else if (formData.phonenumber.match(lowerCaseLetters) || formData.phonenumber.match(upperCaseLetters) || formData.phonenumber.match(specialcharacter) || formData.phonenumber.includes(' ')) {\n      if (node) {\n        node.show({\n          severity: 'error',\n          detail: \"Please enter a valid Phone Number\"\n        });\n      }\n\n      isValid = false;\n    } else if (!validEmailRegex.test(formData.email)) {\n      if (node) {\n        node.show({\n          severity: 'error',\n          detail: \"Please enter a valid Email Address\"\n        });\n      }\n\n      isValid = false;\n    } else if (!(formData.email === formData.confirm_email)) {\n      if (node) {\n        node.show({\n          severity: 'error',\n          detail: \"Email Address is not matched\"\n        });\n      }\n\n      isValid = false;\n    } else if (!(formData.password.trim().length >= 8 && formData.password.match(numbers) && formData.password.match(lowerCaseLetters) && formData.password.match(upperCaseLetters) && formData.password.match(specialcharacter))) {\n      if (node) {\n        node.show({\n          severity: 'error',\n          detail: \"Please enter a valid password format\"\n        });\n      }\n\n      isValid = false;\n    }\n\n    return isValid;\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let isValid = formValidation();\n\n    if (isValid) {\n      setLoading(true);\n\n      try {\n        axiosInstance.post(`/api/customer/create/primary/`, {\n          account_number: formData.accountnumber,\n          email: formData.email,\n          confirm_email: formData.confirm_email,\n          first_name: formData.firstname,\n          last_name: formData.lastname,\n          phone: formData.phonenumber,\n          password: formData.password\n        }).then(res => {\n          let node = toast.current;\n\n          if (res.data.status === 200) {\n            //history.push('/');\n            setFormData({ ...formData,\n              accountnumber: '',\n              email: '',\n              confirm_email: '',\n              firstname: '',\n              lastname: '',\n              phonenumber: '',\n              password: ''\n            });\n\n            if (node) {\n              node.show({\n                severity: 'success',\n                detail: res.data.message\n              });\n            }\n\n            setLoading(false);\n          } else {\n            setLoading(false);\n\n            if (node) {\n              node.show({\n                severity: 'error',\n                detail: res.data.message\n              });\n            }\n          }\n        }); //setLoading(true);\n      } catch (error) {\n        setLoading(false);\n        throw error;\n      }\n    }\n  };\n\n  function login() {\n    history.push(`/`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overlay-box1\",\n      children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n        css: override,\n        color: \"rgb(0, 158, 214)\",\n        loading: loading,\n        height: 30,\n        width: 5,\n        radius: 2,\n        margin: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 27\n    }, this) : '', /*#__PURE__*/_jsxDEV(Toast, {\n      ref: toast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ReactTooltip, {\n      id: \"required\",\n      effect: \"solid\",\n      place: \"bottom\",\n      children: \"\\\"Password should be minimum 8 characters with atleast one uppercase, one lowercase, one special character and one numeric value\\\"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center own-login-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        style: {\n          marginTop: \"4.375rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: \"1.875rem\",\n              textAlign: \"center\",\n              marginBottom: \"1.563rem\"\n            },\n            children: \"Create an Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 27\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            style: {\n              paddingBottom: '0.625rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: \"15.625rem\",\n                height: \"2.5rem\"\n              },\n              name: \"accountnumber\",\n              className: \"form-control\",\n              placeholder: \"Account Number *\",\n              value: formData.accountnumber,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: \"15.625rem\",\n                height: \"2.5rem\"\n              },\n              name: \"phonenumber\",\n              className: \"form-control\",\n              placeholder: \"Phone Number *\",\n              value: formData.phonenumber,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            style: {\n              paddingBottom: '0.625rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: \"15.625rem\",\n                height: \"2.5rem\"\n              },\n              name: \"email\",\n              type: \"email\",\n              className: \"form-control\",\n              placeholder: \"Email ID *\",\n              value: formData.email,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: \"15.625rem\",\n                height: \"2.5rem\"\n              },\n              name: \"confirm_email\",\n              type: \"email\",\n              className: \"form-control\",\n              placeholder: \"Confirm Email ID *\",\n              value: formData.confirm_email,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            style: {\n              paddingBottom: '0.625rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: \"15.625rem\",\n                height: \"2.5rem\"\n              },\n              name: \"firstname\",\n              className: \"form-control\",\n              id: \"exampleInputEmail1\",\n              placeholder: \"First Name *\",\n              value: formData.firstname,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: \"15.625rem\",\n                height: \"2.5rem\"\n              },\n              name: \"lastname\",\n              className: \"form-control\",\n              placeholder: \"Last Name *\",\n              value: formData.lastname,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            style: {\n              marginLeft: \"-0.75rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                width: \"33.125rem\",\n                height: \"2.5rem\"\n              },\n              name: \"password\",\n              type: \"password\",\n              className: \"form-control\",\n              placeholder: \"Password*\",\n              value: formData.password,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"info\",\n              \"data-for\": \"required\",\n              \"data-tip\": \"required\",\n              style: {\n                cursor: \"pointer\",\n                width: '1.25rem',\n                padding: '0px',\n                marginLeft: '-1.563rem'\n              },\n              src: info\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              width: \"33.125rem\",\n              height: \"2.5rem\",\n              backgroundColor: \"#009ED6\",\n              borderColor: \"#009ED6\"\n            },\n            className: \"btn btn-primary\",\n            type: \"submit\",\n            children: \"Create\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mt-4 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"create\",\n              onClick: login,\n              style: {\n                marginLeft: \".4rem\",\n                marginTop: \"-2rem\",\n                fontSize: \"1rem\",\n                color: \"#009ED6\",\n                fontWeight: \"bold\"\n              },\n              children: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 31\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateAccount, \"eBEIeUClngd+WAEVAJ7IKlzRoSI=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreateAccount;\nexport default CreateAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAccount\");","map":{"version":3,"sources":["/Users/mac/Desktop/customer_portal_cls/frontend/src/component/login/CreateAccount.tsx"],"names":["React","useState","useHistory","axiosInstance","Toast","useRef","FadeLoader","css","ReactTooltip","validEmailRegex","RegExp","override","CreateAccount","history","toast","initialFormData","Object","freeze","accountnumber","email","confirm_email","firstname","lastname","phonenumber","password","formData","setFormData","loading","setLoading","handleInputChange","e","name","target","value","formValidation","isValid","node","current","numbers","lowerCaseLetters","upperCaseLetters","specialcharacter","reWhiteSpace","show","severity","detail","match","includes","test","trim","length","handleSubmit","preventDefault","post","account_number","first_name","last_name","phone","then","res","data","status","message","error","login","push","marginTop","fontSize","textAlign","marginBottom","paddingBottom","width","height","marginLeft","cursor","padding","info","backgroundColor","borderColor","color","fontWeight"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axiosInstance, {baseURL} from '../../api/api';\nimport './Login.css';\nimport { Toast } from 'primereact/toast';\nimport { useRef } from 'react';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport ReactTooltip from 'react-tooltip';\nimport info from '../icons/info.svg';\nconst validEmailRegex = RegExp(\n    /^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i\n  );\n\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-right:-18%;\n`;\n\nlet CreateAccount=()=>{\n    let history = useHistory();\n    const toast:any = useRef(null);\n\n    const initialFormData = Object.freeze({\n        accountnumber:'',\n        email: '',\n        confirm_email:'',\n        firstname:'',\n        lastname:'',\n        phonenumber:'',\n        password: '',\n    });\n    const [formData, setFormData] = useState<any>(initialFormData);\n    const [loading, setLoading] = useState<any>(false);\n\n    const handleInputChange = (e: { target: { name: any; value: any; }; }) =>{\n        let name = e.target.name;\n        let value = e.target.value;\n        setFormData({...formData,[name]:value});\n    };\n      \n    const formValidation= () =>{\n        let isValid = true;\n        const node = toast.current;\n        let numbers = /[0-9]/g;\n        let lowerCaseLetters = /[a-z]/g;\n        let upperCaseLetters = /[A-Z]/g;\n        let specialcharacter = /[!+@#\\$%\\^&\\*]/g;\n        let reWhiteSpace = new RegExp(/^\\s+$/);\n        debugger\n        if(formData.accountnumber === '' || formData.email === '' || formData.firstname === '' || formData.lastname === '' || formData.phonenumber === '' || formData.password === ''){\n            if(node){\n            node.show({severity: 'error', detail: \"Please Enter all fields\"});\n            }\n            isValid = false ;\n        }else if(formData.phonenumber.match(lowerCaseLetters) || formData.phonenumber.match(upperCaseLetters) || formData.phonenumber.match(specialcharacter) || formData.phonenumber.includes(' ')){\n            if(node){\n                node.show({severity: 'error',  detail: \"Please enter a valid Phone Number\"});\n                }\n            isValid = false ;\n        }else if(!validEmailRegex.test(formData.email)){\n            if(node){\n                node.show({severity: 'error',  detail: \"Please enter a valid Email Address\"});\n                }\n            isValid = false ;\n        }else if(!(formData.email === formData.confirm_email)){\n            if(node){\n                node.show({severity: 'error',  detail: \"Email Address is not matched\"});\n                }\n            isValid = false ;\n        }else if(!(formData.password.trim().length >= 8 && formData.password.match(numbers) && formData.password.match(lowerCaseLetters) && formData.password.match(upperCaseLetters) && formData.password.match(specialcharacter))){\n            if(node){\n                node.show({severity: 'error',  detail: \"Please enter a valid password format\"});\n                }\n            isValid = false;\n        }\n        return isValid\n    }\n\n    const handleSubmit = (e:any) => {\n\t\te.preventDefault();\n        let isValid = formValidation();\n        if(isValid){\n            setLoading(true);\n        try {\n            axiosInstance\n\t\t\t.post(`/api/customer/create/primary/`, {\n\t\t\t\taccount_number: formData.accountnumber,\n                email: formData.email,\n                confirm_email : formData.confirm_email,\n                first_name: formData.firstname,\n                last_name: formData.lastname,\n                phone: formData.phonenumber,\n                password: formData.password,\n\t\t\t})\n\t\t\t.then((res) => {\n                let node = toast.current;\n                if(res.data.status===200){\n                    //history.push('/');\n                    setFormData({...formData,accountnumber:'',\n                    email: '',\n                    confirm_email:'',\n                    firstname:'',\n                    lastname:'',\n                    phonenumber:'',\n                    password: '',})\n                     if(node){\n                       node.show({severity: 'success', detail: res.data.message});\n                    }\n                    setLoading(false);\n                } else {\n                    setLoading(false);\n                    if(node){\n                       node.show({severity: 'error', detail: res.data.message});\n                    }\n                }\n                \n            });\n            //setLoading(true);\n        } catch(error){\n            setLoading(false);\n             throw error;\n        }\n    }\n  }\n\n    function login() {\n        history.push(`/`);\n    \n       }\n      return (\n        <div >\n            {\n                loading ? <div className='overlay-box1'>\n                <FadeLoader css={override} color={\"rgb(0, 158, 214)\"} loading={loading}  height={30} width={5} radius={2} margin={20} />\n            </div> :''\n            }\n            <Toast ref={toast} />\n            <ReactTooltip id=\"required\"effect=\"solid\" place=\"bottom\" >\n            \"Password should be minimum 8 characters with atleast one uppercase, one lowercase, one special character and one numeric value\"\n            </ReactTooltip>\n\t            <div className=\"d-flex justify-content-center own-login-container\">\n                    \n                    <form onSubmit={handleSubmit} style={{marginTop:\"4.375rem\"}} > \n                        <div>\n                          <label style={{fontSize:\"1.875rem\",textAlign:\"center\",marginBottom:\"1.563rem\"}}>Create an Account</label>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\" style={{paddingBottom:'0.625rem'}}>\n                                <input style={{width:\"15.625rem\",height:\"2.5rem\"}} name=\"accountnumber\"  className=\"form-control\"   placeholder=\"Account Number *\" value={formData.accountnumber} onChange={handleInputChange}/>\n                            </div>\n                            <div className=\"col\">\n                                <input style={{width:\"15.625rem\",height:\"2.5rem\"}} name=\"phonenumber\" className=\"form-control\"   placeholder=\"Phone Number *\" value={formData.phonenumber} onChange={handleInputChange}/>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\" style={{paddingBottom:'0.625rem'}}>\n                                <input style={{width:\"15.625rem\",height:\"2.5rem\"}} name=\"email\" type=\"email\"  className=\"form-control\"  placeholder=\"Email ID *\" value={formData.email} onChange={handleInputChange}/>\n                            </div>\n                            <div className=\"col\">\n                                <input style={{width:\"15.625rem\",height:\"2.5rem\"}} name=\"confirm_email\" type=\"email\"  className=\"form-control\"  placeholder=\"Confirm Email ID *\" value={formData.confirm_email} onChange={handleInputChange}/>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col\" style={{paddingBottom:'0.625rem'}}>\n                                <input style={{width:\"15.625rem\",height:\"2.5rem\"}} name=\"firstname\" className=\"form-control\" id=\"exampleInputEmail1\"  placeholder=\"First Name *\" value={formData.firstname} onChange={handleInputChange}/>\n                            </div>\n                            <div className=\"col\">\n                                <input style={{width:\"15.625rem\",height:\"2.5rem\"}} name=\"lastname\" className=\"form-control\"  placeholder=\"Last Name *\"  value={formData.lastname} onChange={handleInputChange}/>\n                            </div>\n                        </div>\n                            <div className=\"col\">\n                                <div className=\"row\" style={{marginLeft:\"-0.75rem\"}}>\n                                    <input style={{width:\"33.125rem\",height:\"2.5rem\"}} name=\"password\" type=\"password\" className=\"form-control\"  placeholder=\"Password*\" value={formData.password} onChange={handleInputChange}/>\n                                    <img alt=\"info\" data-for=\"required\" data-tip=\"required\" style={{cursor:\"pointer\", width:'1.25rem',padding:'0px',marginLeft:'-1.563rem'}} src={info}/>\n                                </div>\n                            </div>\n                        <br></br>\n                        \n                        <div>\n                            <button style={{width:\"33.125rem\",height:\"2.5rem\",backgroundColor:\"#009ED6\",borderColor:\"#009ED6\"}} className=\"btn btn-primary\" type=\"submit\">Create</button>\n                        </div>\n                        <div>\n                            <label className=\"mt-4 text-center\">\n                              <span className=\"create\" onClick={login} style={{marginLeft:\".4rem\",marginTop:\"-2rem\",fontSize:\"1rem\",color:\"#009ED6\",fontWeight:\"bold\"}}>\n                               Log In \n                            </span>\n                            </label>\n                            \n                        </div>\n                    </form>\n                </div>\n            </div>\n      );\n    }\n\nexport default CreateAccount;  "]},"metadata":{},"sourceType":"module"}