{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/sidebar/Quotations.tsx\";\nimport React from 'react';\nimport axiosInstance from '../../api/api';\nimport viewq from \"../icons/viewq.svg\";\nimport Select from \"react-select\";\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport QuotationDetails from './QuotationDetails';\nimport { Paginator } from 'primereact/paginator';\nimport { Toast } from 'primereact/toast';\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\n\nclass Quotations extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toast = void 0;\n    this.colourStyles = {\n      option: provided => ({ ...provided,\n        backgroundColor: this.state.isSelected ? 'white' : 'white',\n        color: this.state.isSelected ? 'black' : 'black',\n        \"&:hover\": {\n          backgroundColor: \"#ccc\",\n          cursor: 'pointer'\n        }\n      }),\n      control: styles => ({ ...styles,\n        cursor: 'pointer'\n      })\n    };\n    this.customStyles = {\n      content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-20%',\n        transform: 'translate(-50%, -50%)',\n        width: '46.875rem',\n        height: '37.5rem'\n      }\n    };\n    this.options = [{\n      value: 'pending',\n      label: 'Open'\n    }, {\n      value: 'accepted',\n      label: 'Accepted'\n    }, {\n      value: 'rejected',\n      label: 'Rejected'\n    }];\n\n    this.handleChange = e => {\n      //debugger\n      this.setState({\n        isSelected: e.value\n      });\n      this.fetchedData(e.value);\n    };\n\n    this.fetchedData = async value => {\n      try {\n        this.setState({\n          loading: true\n        });\n        const token = localStorage.getItem('access_token');\n        const api = `/api/customer/quotations/${value}/`;\n        let response = await axiosInstance.get(api, {\n          headers: {\n            \"Authorization\": `Bearer ${token}`\n          }\n        });\n        this.setState({\n          data: response.data.data.map(obj => {\n            return { ...obj,\n              showDetails: false\n            };\n          }),\n          last_name: response.data.last_name,\n          cus_no: response.data.cus_no\n        });\n        let slice = response.data.data.slice(this.state.offset, this.state.offset + this.state.perPage);\n        this.setState({\n          pageCount: Math.ceil(response.data.data.length / this.state.perPage),\n          totalRecords: response.data.data.length\n        });\n        this.setState({\n          tableData: slice.map(obj => {\n            return { ...obj,\n              showDetails: false\n            };\n          })\n        });\n\n        if (!(this.state.data.length === 0)) {\n          this.setState({\n            loading: false\n          });\n        } else {\n          this.setState({\n            loading: false\n          });\n          this.toast.current.show({\n            severity: 'error',\n            detail: 'No record found'\n          });\n        }\n      } catch (error) {\n        this.setState({\n          loading: false\n        });\n        throw error;\n      }\n    };\n\n    this.details = (loc_no, id) => {\n      const updatedData = this.state.tableData.map((obj, i) => {\n        if (i === id) {\n          if (obj.showDetails === false) {\n            this.setState({\n              loading: true\n            });\n          }\n        }\n\n        if (i === id) {\n          obj.showDetails = true;\n        } else {\n          obj.showDetails = false;\n        }\n\n        return { ...obj\n        };\n      });\n      this.setState({\n        tableData: updatedData\n      });\n      this.setState({\n        loc_no: loc_no\n      });\n    };\n\n    this.load = () => {\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.loadt = () => {\n      this.setState({\n        loading: true\n      });\n    };\n\n    this.renderEditForm = (show, id) => {\n      if (show) {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              height: \"0px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 5,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"accordian\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          color: \"#fff\",\n                          textAlign: \"left\",\n                          marginTop: \"10px\"\n                        },\n                        children: \"Quotes Details\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 179,\n                        columnNumber: 39\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-created\",\n                        onClick: () => this.cancel(id),\n                        children: \"Close\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 37\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(QuotationDetails, {\n                load: this.load,\n                loadt: this.loadt,\n                locationNo: this.state.loc_no\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this)\n        }, void 0, false);\n      }\n    };\n\n    this.componentDidMount = async () => {\n      this.fetchedData(\"pending\");\n    };\n\n    this.onPageChange = event => {\n      let offset = event.first;\n      let perPage = event.rows;\n      this.setState({\n        offset: offset,\n        perPage: perPage\n      });\n      let slice = this.state.data.slice(offset, offset + perPage);\n      this.setState({\n        tableData: slice.map(obj => {\n          return { ...obj,\n            showDetails: false\n          };\n        })\n      });\n    };\n\n    this.toast = /*#__PURE__*/React.createRef();\n    this.state = {\n      data: [],\n      isSelected: \"\",\n      last_name: \"\",\n      cus_no: \"\",\n      loading: false,\n      loc_no: '',\n      offset: 0,\n      perPage: 10,\n      totalRecords: 0,\n      pageCount: 0,\n      tableData: []\n    };\n  }\n\n  cancel(id) {\n    const updatedData = this.state.tableData.map((obj, i) => {\n      if (i === id) {\n        obj.showDetails = false;\n      }\n\n      return { ...obj\n      };\n    });\n    this.setState({\n      tableData: updatedData\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Toast, {\n          ref: this.toast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay-box1\",\n          children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n            css: override,\n            color: \"rgb(0, 158, 214)\",\n            loading: this.state.loading,\n            height: 30,\n            width: 5,\n            radius: 2,\n            margin: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 36\n        }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upper\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-6\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  padding: \"1.25rem\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"heading\",\n                  children: this.state.last_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 60\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"heading\",\n                  children: this.state.cus_no\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginLeft: \"12.5rem\",\n                marginTop: \"1.25rem\"\n              },\n              className: \"col-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"inputState\",\n                children: \"Filter By:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                values: this.state.isSelected,\n                onChange: this.handleChange,\n                className: \"dropdown\",\n                options: this.options,\n                placeholder: \"Open Quotes\",\n                styles: this.colourStyles,\n                isSearchable: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"accordian\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      color: \"#fff\",\n                      textAlign: \"left\",\n                      marginTop: \"0.625rem\"\n                    },\n                    children: \"Quotations\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-striped\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontWeight: 500\n                  },\n                  scope: \"col\",\n                  children: \"Location Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontWeight: 500\n                  },\n                  scope: \"col\",\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontWeight: 500,\n                    textAlign: \"center\"\n                  },\n                  scope: \"col\",\n                  children: \"Open Quotes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    fontWeight: 500,\n                    textAlign: \"right\"\n                  },\n                  scope: \"col\",\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [this.state.tableData.map((item, i) => {\n                return /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.location\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        textAlign: \"center\"\n                      },\n                      children: item.quotes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 266,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        textAlign: \"right\"\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        \"data-toggle\": \"tooltip\",\n                        \"data-placement\": \"top\",\n                        title: \"View Quotes\",\n                        alt: \"eye\",\n                        style: {\n                          cursor: \"pointer\",\n                          width: '1.8rem'\n                        },\n                        src: viewq,\n                        onClick: () => this.details(item.loc_no, i)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 25\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 25\n                  }, this), this.renderEditForm(item.showDetails, i)]\n                }, void 0, true);\n              }), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: 4,\n                  children: /*#__PURE__*/_jsxDEV(Paginator, {\n                    first: this.state.offset,\n                    rows: this.state.perPage,\n                    totalRecords: this.state.totalRecords,\n                    rowsPerPageOptions: [10, 20, 30],\n                    template: \"RowsPerPageDropdown CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink \",\n                    onPageChange: this.onPageChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Quotations;","map":{"version":3,"sources":["/Users/mac/Desktop/customer_portal_cls/locks&keys_frontend/src/component/sidebar/Quotations.tsx"],"names":["React","axiosInstance","Select","FadeLoader","css","QuotationDetails","Paginator","Toast","override","Quotations","Component","constructor","props","toast","colourStyles","option","provided","backgroundColor","state","isSelected","color","cursor","control","styles","customStyles","content","top","left","right","bottom","marginRight","transform","width","height","options","value","label","handleChange","e","setState","fetchedData","loading","token","localStorage","getItem","api","response","get","headers","data","map","obj","showDetails","last_name","cus_no","slice","offset","perPage","pageCount","Math","ceil","length","totalRecords","tableData","current","show","severity","detail","error","details","loc_no","id","updatedData","i","load","loadt","renderEditForm","textAlign","marginTop","cancel","componentDidMount","onPageChange","event","first","rows","createRef","render","padding","marginLeft","fontWeight","item","location","address","quotes","viewq"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport axiosInstance from '../../api/api';\nimport viewq from '../icons/viewq.svg';\nimport Select from \"react-select\";\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/core\";\nimport Modal from 'react-modal';\nimport logopay from '../icons/logopay.png';\nimport QuotationDetails from './QuotationDetails';\nimport { Paginator } from 'primereact/paginator';\nimport { Toast } from 'primereact/toast';\n\nconst override = css`\n  margin: 0 auto;\n  border-color: red;\n  background-color: transparent;\n  top:40%;\n  margin-left:-16%;\n`;\ninterface Props{\n    data:any;\n    isSelected:any;\n    last_name:any;\n    cus_no:any;\n    loading : boolean;\n    loc_no : any;\n    offset: any;\n    perPage: any;\n    totalRecords: any;\n    pageCount:any;\n    tableData :any;\n  }\n\nclass Quotations extends React.Component<{},Props> {\n  toast: React.RefObject<any>;\n\n    constructor(props:Props){\n        super(props);\n        this.toast = React.createRef();\n        this.state={\n          data: [],\n          isSelected:\"\",\n          last_name:\"\",\n          cus_no:\"\",\n          loading : false,\n          loc_no : '',\n          offset: 0,\n          perPage: 10,\n          totalRecords: 0,\n          pageCount:0,\n          tableData : [],\n        }}\n\n        colourStyles ={\n            option: (provided:any) => ({\n              ...provided,\n              backgroundColor: this.state.isSelected ? 'white' : 'white',\n              color: this.state.isSelected ? 'black' : 'black',\n              \"&:hover\": {\n                backgroundColor: \"#ccc\",\n                cursor: 'pointer',\n              }\n            }),\n            control: (styles:any) => ({\n              ...styles,\n              cursor: 'pointer',\n              \n            }),\n            \n          }\n\n          customStyles = {\n            content : {\n              top                   : '50%',\n              left                  : '50%',\n              right                 : 'auto',\n              bottom                : 'auto',\n              marginRight           : '-20%',\n              transform             : 'translate(-50%, -50%)',\n              width                 : '46.875rem',\n              height                : '37.5rem'\n            }\n          };\n\n       \n        options = [\n            { value: 'pending', label: 'Open' },\n            { value: 'accepted', label: 'Accepted' },\n            { value: 'rejected', label: 'Rejected' },\n          ];\n\n          handleChange = (e:any) => {\n            //debugger\n            this.setState({isSelected: e.value});\n            this.fetchedData(e.value);\n          }\n\n        fetchedData= async(value:any)=>{\n            try {\n                this.setState({loading : true});\n                const token = localStorage.getItem('access_token');\n                const api = `/api/customer/quotations/${value}/`;\n                let response = await axiosInstance.get(api, { headers: {\"Authorization\" : `Bearer ${token}`} });\n                \n                this.setState({data:response.data.data.map((obj:any)=>{\n                    return({...obj, showDetails: false\n                    })\n                  }), last_name:response.data.last_name, cus_no:response.data.cus_no});\n                  \n                  let slice = response.data.data.slice(this.state.offset, this.state.offset + this.state.perPage);\n                    this.setState({pageCount: Math.ceil(response.data.data.length / this.state.perPage), totalRecords: response.data.data.length});\n                    this.setState({tableData:slice.map((obj:any)=>{\n                        return({...obj, showDetails: false\n                        })\n                      })});\n\n                if(!(this.state.data.length === 0))\n                {\n                    this.setState({loading : false});\n                }else {\n                  this.setState({loading : false});\n                  this.toast.current.show({severity: 'error',  detail: 'No record found'});\n\n                }\n                \n            }catch(error){\n                this.setState({loading : false});\n                throw error;\n            }\n\n        }\n\n        details=(loc_no:any,id:any)=> {\n            const updatedData = this.state.tableData.map((obj:any,i:number)=>{\n              if(i===id){\n                if(obj.showDetails=== false){\n                  this.setState({loading:true});\n                }\n              }\n                if(i===id){\n                  obj.showDetails = true;\n                }else{\n                  obj.showDetails = false;\n                }\n                return {...obj}\n                });\n              this.setState({tableData :updatedData});\n            this.setState({loc_no:loc_no});\n           };\n\n           cancel(id:any) {\n            const updatedData = this.state.tableData.map((obj:any,i:number)=>{\n                if(i===id){\n                  obj.showDetails = false;\n                }\n                return {...obj}\n            })\n            this.setState({tableData: updatedData});\n           }\n\n           load = () =>{\n            this.setState({loading:false});\n          }\n          loadt = () =>{\n            this.setState({loading:true});\n          }\n\n           renderEditForm=(show:any,id:any)=>{\n            if(show){\n              return(\n                <>\n                <tr style={{height:\"0px\"}}>\n                    <td colSpan={5}>\n                        <div className=\"accordian\"> \n                          <div className=\"col-12\">\n                              <div className=\"row\">\n                                  <div className=\"col-6\">\n                                      <p style={{color:\"#fff\",textAlign:\"left\",marginTop:\"10px\"}}>Quotes Details</p>\n                                  </div>\n                                  <div className=\"col-6\">\n                                    <span className=\"detail-created\" onClick={()=>this.cancel(id)} >Close</span>\n                                </div>\n                              </div>\n                          </div>\n                        </div>\n                        <QuotationDetails load={this.load} loadt={this.loadt} locationNo={this.state.loc_no} />\n                     </td>\n                </tr>\n               </>\n              )\n            }\n          } \n\n        componentDidMount = async ()=>{\n           this.fetchedData(\"pending\");\n        }\n\n        onPageChange = (event:any) => {\n        let offset = event.first;\n        let perPage = event.rows;\n        this.setState({offset:offset, perPage:perPage})\n        let slice = this.state.data.slice(offset, offset + perPage);\n        this.setState({tableData:slice.map((obj:any)=>{\n          return({...obj, showDetails: false\n          })\n        })});\n    }\n\n    render(){\n        return(\n            <>\n            <div>\n            <Toast ref={this.toast} />\n            {\n              this.state.loading ? <div className='overlay-box1'>\n              <FadeLoader css={override} color={\"rgb(0, 158, 214)\"} loading={this.state.loading}  height={30} width={5} radius={2} margin={20} />\n          </div> : ''\n            }\n                <div className=\"upper\">\n                    <div className=\"row\">\n                        <div className=\"col-6\">\n                            <p style={{padding:\"1.25rem\"}}><span className='heading'>{this.state.last_name}</span> \n                            <br></br><span className='heading'>{this.state.cus_no}</span></p>\n                        </div>\n                        <div style={{marginLeft:\"12.5rem\",marginTop:\"1.25rem\"}} className=\"col-3\">\n                            <label  htmlFor=\"inputState\">Filter By:</label>\n                            <Select\n                                values={this.state.isSelected}\n                                onChange={this.handleChange}\n                                className=\"dropdown\"\n                                options={this.options}\n                                placeholder=\"Open Quotes\"\n                                styles={this.colourStyles}\n                                isSearchable\n                            />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"content\" >\n                <div className=\"accordian\"> \n                    <div className=\"col-12\">\n                        <div className=\"row\">\n                            <div className=\"col-6\">\n                                <p style={{color:\"#fff\",textAlign:\"left\",marginTop:\"0.625rem\"}}>Quotations</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <table  className=\"table table-striped\">\n                    <thead>\n                        <tr >\n                        <th style={{fontWeight:500}} scope=\"col\">Location Name</th>\n                        <th style={{fontWeight:500}} scope=\"col\">Address</th>\n                        <th style={{fontWeight:500,textAlign:\"center\"}} scope=\"col\">Open Quotes</th>\n                        <th style={{fontWeight:500,textAlign:\"right\"}} scope=\"col\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.tableData.map((item: any,i: any)=>{\n                         return(\n                             <>\n                        <tr key={i}>\n                        <td>{item.location}</td>\n                        <td>{item.address}</td>\n                        <td style={{textAlign:\"center\"}} >{item.quotes}</td>\n                        <td style={{textAlign:\"right\"}}>\n                          <img data-toggle=\"tooltip\" data-placement=\"top\" title=\"View Quotes\" alt=\"eye\" style={{cursor:\"pointer\",width:'1.8rem'}} src={viewq} onClick={()=>this.details(item.loc_no,i)}/>\n                        </td>\n                        </tr>\n                        {this.renderEditForm(item.showDetails,i)}\n                        </>\n                         )})}\n                         <tr>\n                            <td colSpan={4}>\n                            <Paginator first={this.state.offset} rows={this.state.perPage} totalRecords={this.state.totalRecords} rowsPerPageOptions={[10,20,30]} \n                            template=\"RowsPerPageDropdown CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink \"\n                            onPageChange={this.onPageChange}></Paginator>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                </div>\n            </div>\n            </>\n        );\n    }\n}\n\nexport default Quotations;"]},"metadata":{},"sourceType":"module"}